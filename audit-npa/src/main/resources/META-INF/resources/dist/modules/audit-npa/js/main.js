webpackJsonp([0],{130:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(243),o=function(){function ModelTreeFile(){this.uncertainties={header:"",name:""},this.tree=new r.a}return ModelTreeFile}()},131:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(52),o=(n.n(r),n(46)),i=n(245),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),a=function(e){function DataTree(){return e.call(this)||this}return s(DataTree,e),DataTree.strVal=function(e,t){var n={label:"",dtBegin:null,dtEnd:null,path:"",type:""};return n.label=e,n.dtBegin=t.dtBegin,n.dtEnd=t.dtEnd,n.path=t.path,n.type=t.type,n},DataTree.objSubmit=function(e,t,i){var s=new o.a,a={id:t.id,label:i,dtBegin:null,dtEnd:null,type:null};return n.i(r.isUndefined)(e._value.dtBegin)||null==e._value.dtBegin?a.dtBegin=null:(a.dtBegin=s.InUniversalDate(e._value.dtBegin),a.dtBegin=s.InDBDate(a.dtBegin)),n.i(r.isUndefined)(e._value.dtEnd)||null==e._value.dtEnd?a.dtEnd=null:(a.dtEnd=s.InUniversalDate(e._value.dtEnd),a.dtEnd=s.InDBDate(a.dtEnd)),n.i(r.isUndefined)(e._value.types)?a.type=t.type:a.type=e._value.types,a},DataTree}(i.a)},132:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=function(){function Error(){}return Error.prototype.noDocuments=function(){return"Нет документов для отображения!"},Error.prototype.documentWasDeleted=function(e){return"Документ № "+e+" был удален другим пользователем!"},Error.prototype.notAllData=function(){return"Введены не все данные!"},Error.prototype.revisionWasDeleted=function(e){var t=e.toString();return null===e&&(t="Первоначальная"),"Редакция № "+t+" была удалена другим пользователем!"},Error.prototype.notSelectedDocument=function(){return"Не выбран документ!"},Error.prototype.enteredWrongDate=function(){return"Введена неверная дата!"},Error.prototype.notSelectedRevision=function(){return"Не выбрана редакция документа!"},Error.prototype.notLoadingRevision=function(){return"Не загружена редакция документа!"},Error.prototype.selectRevisionWithoutLoadDoc=function(){return"Вы выбрали редакцию без загруженного документа!"},Error=o([n.i(r.Injectable)()],Error)}()},133:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(52),o=(n.n(r),n(241)),i=n(135),s=function(){function MergedTree(){this.children=[]}return MergedTree.prototype.createMergedTree=function(e,t){return e=this.checkDataMergeTree(e,t),e=this.expandAll(e)},MergedTree.prototype.sortedMergedRevision=function(e,t,n){var r=e[0],o=e[1],s=i.a.findRevision(n,r),a=i.a.findRevision(n,o);return null==s.dtRev&&(s.dtRev=t.dt),null==a.dtRev&&(a.dtRev=t.dt),s.dtRev.valueOf()>a.dtRev.valueOf()&&(e[0]=o,e[1]=r),e},MergedTree.prototype.checkDataMergeTree=function(e,t){e=t;for(var n=0;n<t.children.length;n++)e.children[n]=this.recursionСheckDataMergeTree(e.children[n],t.children[n]);return e},MergedTree.prototype.recursionСheckDataMergeTree=function(e,t){if(e=this.copyChild(e,t),null!=e.nodeLeft.data&&""!=e.nodeLeft.data.num&&(e.nodeLeft.data.name=e.nodeLeft.data.num+" "+e.nodeLeft.data.name),null!=e.nodeRight.data&&""!=e.nodeRight.data.num&&(e.nodeRight.data.name=e.nodeRight.data.num+" "+e.nodeRight.data.name),n.i(r.isUndefined)(e.diffs)||(e.htmlLeft=this.createDiffTextLeft(e.diffs),e.htmlRight=this.createDiffTextRight(e.diffs)),!n.i(r.isUndefined)(e.children))for(var o=0;o<e.children.length;o++)e.children[o]=this.recursionСheckDataMergeTree(e.children[o],t.children[o]);return e},MergedTree.prototype.copyChild=function(e,t){return e.children=t.children,n.i(r.isUndefined)(t.diffs)||(e.diffs=t.diffs,e.htmlLeft="",e.htmlRight=""),e.nodeLeft=this.copyNode(t.nodeLeft),e.nodeRight=this.copyNode(t.nodeRight),e},MergedTree.prototype.copyNode=function(e){var t=new o.a;return n.i(r.isUndefined)(e)||(t.children=e.children,t.data=e.data),t},MergedTree.prototype.createDiffTextLeft=function(e){for(var t="<span>",n=0,r=e;n<r.length;n++){var o=r[n];switch(o.operation){case"DELETE":t+=this.appendDelete(o.text);break;case"EQUAL":t+=this.appendEqual(o.text)}}return t+="</span>"},MergedTree.prototype.createDiffTextRight=function(e){for(var t="<span>",n=0,r=e;n<r.length;n++){var o=r[n];switch(o.operation){case"INSERT":t+=this.appendInsert(o.text);break;case"EQUAL":t+=this.appendEqual(o.text)}}return t+="</span>"},MergedTree.prototype.appendDelete=function(e){return'<span class="deleteTextNode">'+e+"</span>"},MergedTree.prototype.appendEqual=function(e){return"<span>"+e+"</span>"},MergedTree.prototype.appendInsert=function(e){return'<span class="insertTextNode">'+e+"</span>"},MergedTree.prototype.expandAll=function(e){var t=this;return e.children.forEach(function(e){t.expandRecursive(e,!0)}),e},MergedTree.prototype.expandRecursive=function(e,t){var n=this;e.expanded=t,e.children&&e.children.forEach(function(e){n.expandRecursive(e,t)})},MergedTree}()},134:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function ModelTree(){}return ModelTree}()},135:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(86),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=function(e){function TableRevValue(){return null!==e&&e.apply(this,arguments)||this}return o(TableRevValue,e),TableRevValue.findRevision=function(e,t){return e.find(function(e){return e.idRev==t})},TableRevValue}(r.a)},136:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(24),i=n(37),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},d=function(){function UploadNpaRequests(e,t){this.http=e,this.req=t,this.baseUrl=this.req.baseUrl}return UploadNpaRequests.prototype.getCreateFile=function(e){var t=new o.d;t.append("doc",e.toString());var n=new o.e({responseType:o.f.ArrayBuffer,params:t});return this.http.get(this.baseUrl+"/createFiles",n)},UploadNpaRequests=s([n.i(r.Injectable)(),l(0,n.i(r.Inject)(o.c)),l(1,n.i(r.Inject)(i.a)),a("design:paramtypes",[o.c,i.a])],UploadNpaRequests)}()},137:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(24),i=n(37),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},d=function(){function DownloadNpaRequests(e,t){this.http=e,this.req=t,this.baseUrl=this.req.baseUrl}return DownloadNpaRequests.prototype.formattedURL=function(){return this.baseUrl+"/downloadNpaZip"},DownloadNpaRequests=s([n.i(r.Injectable)(),l(0,n.i(r.Inject)(o.c)),l(1,n.i(r.Inject)(i.a)),a("design:paramtypes",[o.c,i.a])],DownloadNpaRequests)}()},138:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(24),i=n(37),s=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},d=function(){function OrganizationRequests(e,t){this.http=e,this.req=t,this.url=this.req.baseUrl}return OrganizationRequests.prototype.getOrganizations=function(){return this.http.get(this.url+"/directory/fzOrganizations")},OrganizationRequests.prototype.getSaveOrgsNpa=function(e,t){var n=new o.d;n.append("idOrgs",e.toString()),null!=t&&n.append("id",t.toString());var r=new o.e({params:n});return this.http.get(this.url+"/directory/fzSaveOrgsNpa",r)},OrganizationRequests.prototype.getOrgsNpa=function(e){var t=new o.d;t.append("id",e.toString());var n=new o.e({params:t});return this.http.get(this.url+"/directory/fzOrgsNpa",n)},OrganizationRequests=s([n.i(r.Injectable)(),l(0,n.i(r.Inject)(o.c)),l(1,n.i(r.Inject)(i.a)),a("design:paramtypes",[o.c,i.a])],OrganizationRequests)}()},139:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(24),i=n(43),s=n(37),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},c=function(){function RevisService(e,t,n){this.http=e,this.head=t,this.req=n,this.fzRev="/directory/fzRev",this.baseUrl=this.req.baseUrl}return RevisService.prototype.getRevList=function(e){return this.http.get(this.baseUrl+"/directory/fzRevList/"+e)},RevisService.prototype.getPostRev=function(e){var t=JSON.stringify(e);return this.http.post(this.baseUrl+this.fzRev,t,{headers:this.head.createCsrfHeader()})},RevisService.prototype.getDeleteRev=function(e){var t=this.checkForNull(e);return this.http.delete(this.baseUrl+this.fzRev+t,{headers:this.head.createCsrfHeader()})},RevisService.prototype.getPutRev=function(e,t){var n=this.checkForNull(e),r=JSON.stringify(t);return this.http.put(this.baseUrl+this.fzRev+n,r,{headers:this.head.createCsrfHeader()})},RevisService.prototype.getViewHTML=function(e,t){var n=this.checkForNull(t),r=this.checkForNull(e);return this.http.get(this.baseUrl+"/directory/fzView"+r+n)},RevisService.prototype.getCheckIsDeletedRev=function(e,t){var n=this.checkForNull(e),r=this.checkForNull(t);return this.http.get(this.baseUrl+"/directory/fzCheckIsDeletedRev"+n+r,{headers:this.head.createCsrfHeader()})},RevisService.prototype.compareRevisions=function(e,t,n){var r=new o.d;r.append("docId",e.toString()),null!=t&&r.append("revId1",t.toString()),null!=n&&r.append("revId2",n.toString());var i=new o.e({params:r});return this.http.get(this.baseUrl+"/directory/fzMergeRev",i)},RevisService.prototype.compareStruct=function(e,t,n){var r=new o.d;r.append("docId",e.toString()),null!=t&&r.append("revId1",t.toString()),null!=n&&r.append("revId2",n.toString());var i=new o.e({params:r});return this.http.get(this.baseUrl+"/directory/fzcompareStruct",i)},RevisService.prototype.checkForNull=function(e){return e=null==e?"/0":"/"+e},RevisService=a([n.i(r.Injectable)(),d(0,n.i(r.Inject)(o.c)),d(1,n.i(r.Inject)(i.a)),d(2,n.i(r.Inject)(s.a)),l("design:paramtypes",[o.c,i.a,s.a])],RevisService)}()},140:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function RoutingService(){}return RoutingService.baseComp="base",RoutingService.mergedTree="mergTree",RoutingService.compareRevis="compRev",RoutingService.imageView="imageView",RoutingService.structRev="structRev",RoutingService.dloadText="dloadText",RoutingService}()},176:function(e,t,n){e.exports=n.p+"img/loading.gif"},209:function(e,t){function webpackEmptyAsyncContext(e){return new Promise(function(t,n){n(new Error("Cannot find module '"+e+"'."))})}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,e.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=209},211:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(2),i=n(129),s=(n.n(i),n(8)),a=n(125),l=n(36),d=n(17),c=n(237),p=n(239),u=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},h=[],f=function(){function AuditRouteModule(){}return AuditRouteModule=u([n.i(r.NgModule)({imports:[s.FormsModule,a.a,o.CommonModule,p.a,i.BusyModule,l.BrowserModule,d.RouterModule.forRoot(h,{useHash:!0})],providers:[{provide:"Window",useValue:window}],declarations:[c.a],bootstrap:[c.a]})],AuditRouteModule)}()},237:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=function(){function RouterComponent(){}return RouterComponent=o([n.i(r.Component)({selector:"route-app",template:n(398)})],RouterComponent)}()},238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(210),o=n(211),i=n(0);n.i(i.enableProdMode)(),n.i(r.a)().bootstrapModule(o.a)},239:function(e,t,n){"use strict";n.d(t,"a",function(){return V});var r=n(2),o=n(0),i=n(8),s=n(24),a=n(36),l=n(125),d=n(129),c=(n.n(d),n(190)),p=(n.n(c),n(480)),u=(n.n(p),n(478)),h=(n.n(u),n(410)),f=(n.n(h),n(479)),m=(n.n(f),n(477)),g=(n.n(m),n(17)),v=n(132),y=n(246),b=n(251),R=n(247),w=n(250),D=n(253),T=n(249),F=n(252),C=n(254),x=n(248),_=n(88),M=n(139),S=n(55),E=n(54),A=n(138),I=n(136),j=n(137),P=n(89),O=n(43),k=n(46),B=n(91),N=n(37),L=n(140),U=n(409),z=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},q=[{path:"",component:y.a,pathMatch:"full"},{path:"sg-comp-app",component:y.a},{path:"upload-doc-app",component:C.a},{path:"download-doc-app",component:x.a},{path:"**",redirectTo:"no-found"}],V=function(){function AuditModule(){}return AuditModule=z([n.i(o.NgModule)({imports:[l.a,r.CommonModule,a.BrowserModule,U.a.forRoot(),g.RouterModule.forChild(q),i.FormsModule,d.BusyModule,s.a,c.InputTextModule,c.CalendarModule,c.CheckboxModule,h.BlockUIModule,c.ContextMenuModule,f.ScrollPanelModule,c.GrowlModule,c.DialogModule,m.ListboxModule,c.ProgressBarModule,u.MultiSelectModule,c.AccordionModule,c.DataTableModule,c.SharedModule,c.InputTextareaModule,c.DropdownModule,c.TreeTableModule,c.OverlayPanelModule,c.MenuModule,c.SlideMenuModule,c.FileUploadModule,c.TreeModule,c.TooltipModule,c.PanelModule,p.TabMenuModule,c.ToolbarModule],declarations:[y.a,b.a,R.a,w.a,D.a,T.a,F.a,C.a,x.a],providers:[{provide:"Window",useValue:window},P.a,_.a,E.a,B.a,M.a,S.a,A.a,I.a,j.a,O.a,N.a,k.a,L.a,v.a],exports:[U.a,g.RouterModule,y.a,C.a,x.a]})],AuditModule)}()},240:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(46),o=n(86),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),s=function(e){function RevSubmit(t,n,r,o,i){var s=e.call(this)||this;return s.id_NPA=0,s.id_NPA=t,s.dtBegin=n,s.dtRev=r,s.dtEnd=o,s.id_NPA_Revision=i,s}return i(RevSubmit,e),RevSubmit.getObjectRevSubmit=function(e,t){var n=new r.a,o=new RevSubmit(e,t._value.dtBegin,t._value.dtRev,t._value.dtEnd,t._value.id_NPA_Revision);return o.dtBegin=new Date(n.InDBDate(o.dtBegin)),o.dtRev=new Date(n.InDBDate(o.dtRev)),null!=o.dtEnd&&(o.dtEnd=new Date(n.InDBDate(o.dtEnd))),o},RevSubmit}(o.a)},241:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function DataCompareTree(){}return DataCompareTree}()},242:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function DataFileUpload(){}return DataFileUpload}()},243:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function DataTreeFile(){}return DataTreeFile}()},244:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(242),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=function(e){function ModelFormDocument(){var t=e.call(this)||this;return t.editing=!1,t.type="1",t}return o(ModelFormDocument,e),ModelFormDocument.prototype.initOfField=function(e,t,n,r,o,i){this.id=e,this.name=t,this.dt=n,this.num=r,this.type=o,this.editing=i},ModelFormDocument}(r.a)},245:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function TableStructFull(){}return TableStructFull}()},246:function(e,t,n){"use strict";n.d(t,"a",function(){return A});var r=n(0),o=n(487),i=(n.n(o),n(111)),s=(n.n(i),n(52)),a=(n.n(s),n(85)),l=n(132),d=n(133),c=n(244),p=n(87),u=n(130),h=n(131),f=n(240),m=n(135),g=n(88),v=n(139),y=n(55),b=n(138),R=n(89),w=n(43),D=n(46),T=n(91),F=n(54),C=n(140),x=n(90),_=n(111),M=(n.n(_),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}),S=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},A=function(){function AuditComponent(e,t,n,r,o,i,s,l,h,f){this.ru=e,this.docreq=t,this.revisserv=n,this.growlserv=r,this.treeserv=o,this.dateconv=i,this.orgReq=s,this.dict=l,this.head=h,this.error=f,this.modelTree=[],this.htmlText="",this.lengthRev=0,this.lengthDoc=0,this.lengthDocFilter=0,this.doc=new a.a,this.idRev1=0,this.idRev2=0,this.switchboard=C.a.baseComp,this.flagDocEdit=!1,this.flagRevEdit=!1,this.displayPaste=!1,this.displayTreeFile=!1,this.displayLoading=!1,this.displayAddRevis=!1,this.displayDelResponse=!1,this.displayDelDecResponse=!1,this.isProgressBar=!1,this.delFlag=!0,this.editFlag=!0,this.disEditRev=!0,this.disDelRev=!0,this.mergeDisabled=!0,this.compareDisabled=!0,this.disFullViewing=!0,this.selectedEditingDrop="",this.tableFlag=!1,this.selectOrganizations=[],this.msgs=[],this.tableRevValue=[],this.expanded=[],this.flagFullView=!0,this.elemDisabled=!1,this.disAddElemType=!0,this.defaultLabel=[],this.isOrgs=!1,this.flag=!0,this.flagMerge=!1,this.flagCompareRev=!1,this.flagImageView=!1,this.flagDloadText=!1,this.flagStructRev=!1,this.selectedItemsLabel="",this.idDoc=0,this.orgs=[],this.modelFormDocs=new c.a,this.modelFormRevision=new p.a,this.modelTreeFile=new u.a,this.mergedTree=new d.a,this.selectedDocList=new a.a}return AuditComponent.prototype.ngOnInit=function(){this.filtersDocType(),this.docTypeDropDown(),this.ru.settings(),this.rus=this.ru.getRuLocale(),this.tableView(),this.collapseRow(),this.getDict()},AuditComponent.prototype.getDict=function(){var e=this;this.elemTypes=[],this.dict.getElemTypes().subscribe(function(t){e.elemTypes=x.a.getDict(t)})},AuditComponent.prototype.initElemTable=function(e){if(this.tabRevfull=[],this.tabRevfull[0]=h.a.strVal(e.text(),this.selectedTree.data),""!=this.selectedTree.data.type){this.elemDisabled=!0;for(var t=0;t<this.elemTypes.length;t++)if(this.selectedTree.data.type==this.elemTypes[t].label){this.selectedElemType=this.elemTypes[t];break}}else this.selectedElemType=this.elemTypes[0],this.elemDisabled=!1},AuditComponent.prototype.docTypeDropDown=function(){var e=this;this.arrTypes=[],this.dict.getDocTypes().subscribe(function(t){e.formDocType=t.json();for(var n=0,r=e.formDocType;n<r.length;n++){var o=r[n];e.textType=o.name,e.idType=o.id,e.arrTypes.push({label:""+e.textType,value:""+e.idType})}})},AuditComponent.prototype.filtersDocType=function(){this.docTypeFilters=[],this.docTypeFilters.push({label:"Все",value:null}),this.docTypeFilters.push({label:"Изм.",value:"true"}),this.docTypeFilters.push({label:"Осн.",value:"false"})},AuditComponent.prototype.showProgress=function(){this.displayLoading=!0},AuditComponent.prototype.hideProgress=function(){this.displayLoading=!1},AuditComponent.prototype.tableView=function(){var e=this;this.isProgressBar=!0,this.editFlag=!0,this.delFlag=!0,this.docreq.getDataFindList().subscribe(function(t){if(e.documentsForTable=e.dataFindList(t.json()),0==e.documentsForTable.length)e.msgs.push(e.growlserv.showError(e.error.noDocuments()));else{for(var n=0,r=e.documentsForTable;n<r.length;n++){var o=r[n];o.date=e.dateconv.InRussianDate(o.dt)}0!=e.idDoc&&(e.selectedDocList=a.a.findDoc(e.documentsForTable,e.idDoc),a.a.sortDocIndex(e.documentsForTable,e.selectedDocList),e.idDoc=0)}e.lengthDoc=e.documentsForTable.length,e.lengthDocFilter=e.documentsForTable.length,e.isProgressBar=!1})},AuditComponent.prototype.dataFindList=function(e){if(0==e.length)this.msgs.push(this.growlserv.showError(this.error.noDocuments()));else for(var t=0,n=e;t<n.length;t++){var r=n[t];r.dt=this.dateconv.InUniversalDate(r.dt)}return e},AuditComponent.prototype.onClickRowTable=function(e){this.collapseRow()},AuditComponent.prototype.collapseRow=function(){this.delFlag=!0,this.editFlag=!0,this.mergeDisabled=!0,n.i(s.isUndefined)(this.valuesForMerge)||(this.valuesForMerge.length=0)},AuditComponent.prototype.expandRow=function(){n.i(s.isUndefined)(this.valuesForMerge)||(this.valuesForMerge.length=0),this.expanded[0]=this.selectedDocList,this.mergeDisabled=!0,this.delFlag=!1,this.editFlag=!1,this.revView()},AuditComponent.prototype.onRowCollapse=function(e){this.collapseRow()},AuditComponent.prototype.onRowExpand=function(e){this.selectedDocList=e.data,this.expandRow()},AuditComponent.prototype.onFilterDoc=function(e){this.lengthDocFilter=e.filteredValue.length},AuditComponent.prototype.showEdit=function(){this.displayPaste=!0},AuditComponent.prototype.btnPaste=function(){var e=this;this.modelFormDocs=new c.a,this.flagDocEdit=!1,this.defaultLabel.length=0,this.selectOrganizations.length=0,this.isOrgs=!1,this.organizations=[],this.selectedItemsLabel="",this.orgReq.getOrganizations().subscribe(function(t){e.orgs=t.json();for(var n=0,r=e.orgs;n<r.length;n++){var o=r[n];e.organizations.push({label:""+o.shortName,value:""+o.shortName}),e.showEdit()}})},AuditComponent.prototype.btnEdit=function(){this.isOrgs=!1,this.selectOrganizations.length=0,this.editNPA()},AuditComponent.prototype.editNPA=function(){var e=this;this.flagDocEdit=!0,this.docreq.getCheckIsDeletedDoc(this.selectedDocList.id).subscribe(function(t){if(t.json())e.msgs.push(e.growlserv.showError(e.error.documentWasDeleted(e.selectedDocList.id)));else{e.modelFormDocs=new c.a,e.modelFormDocs.initOfField(e.selectedDocList.id,e.selectedDocList.name,e.selectedDocList.dt,e.selectedDocList.num,e.selectedDocList.docType.id,e.selectedDocList.editing);var n=[];e.defaultLabel.length=0,e.organizations=[],e.orgReq.getOrganizations().subscribe(function(t){e.orgs=t.json();for(var r=0,o=e.orgs;r<o.length;r++){var i=o[r];e.organizations.push({label:""+i.shortName,value:""+i.shortName})}e.orgReq.getOrgsNpa(e.selectedDocList.id).subscribe(function(t){if(n=t.json(),0!=n.length){for(var r=0;r<n.length;r++)for(var o=0;o<e.orgs.length;o++)if(n[r]==e.orgs[o].id){e.selectOrganizations[r]=e.orgs[o].shortName;break}e.selectedItemsLabel="{0} организаций выбрано"}else e.selectOrganizations.length=0;e.showEdit()})})}})},AuditComponent.prototype.btnSelectOrgs=function(){this.isOrgs=!0},AuditComponent.prototype.docSubmit=function(){this.submitDoc(this.form.form._value)},AuditComponent.prototype.submitDoc=function(e){if(n.i(s.isUndefined)(e.date)||null==e.date)this.msgs.push(this.growlserv.showError(this.error.enteredWrongDate()));else{for(var t=0,r=this.formDocType;t<r.length;t++){var o=r[t];if(e.type==o.id){e.type=o;break}}e.date=this.dateconv.InDBDate(e.date),n.i(s.isUndefined)(e.number)||null==e.number||""==e.number?this.msgs.push(this.growlserv.showError(this.error.notAllData())):this.selectMetodDoc(e)}},AuditComponent.prototype.selectMetodDoc=function(e){for(var t=this,n=[],r=0;r<this.selectOrganizations.length;r++)for(var o=0;o<this.orgs.length;o++)if(this.orgs[o].shortName==this.selectOrganizations[r].toString()){n.push(this.orgs[o].id);break}if(this.flagDocEdit){var i=this.selectedDocList.id;this.docreq.putAddNPA(e,i).subscribe(function(e){t.orgReq.getSaveOrgsNpa(n,i).subscribe(function(e){t.displayPaste=!1,t.tableView()})})}else this.docreq.getDataAddNPA(e).subscribe(function(e){t.idDoc=e.json(),t.orgReq.getSaveOrgsNpa(n,t.idDoc).subscribe(function(e){t.displayPaste=!1,t.tableView()})})},AuditComponent.prototype.showDelDocResponse=function(){this.displayDelDecResponse=!0},AuditComponent.prototype.hideDelDocResponse=function(){this.displayDelDecResponse=!1},AuditComponent.prototype.btnDelete=function(){this.showDelDocResponse()},AuditComponent.prototype.btnDelDocAnswerYes=function(){this.delNPA()},AuditComponent.prototype.delNPA=function(){var e=this,t=this.selectedDocList.id;this.docreq.deleteAddNPA(t).subscribe(function(t){e.selectedDocList=new a.a,e.tableView(),e.editFlag=!0,e.delFlag=!0,e.hideDelDocResponse()})},AuditComponent.prototype.btnRefresh=function(){this.selectedDocList=new a.a,this.tableView()},AuditComponent.prototype.revView=function(){var e=this;this.isProgressBar=!0,this.initVariables();for(var t,n=this.selectedDocList.id,r=0,o=this.documentsForTable;r<o.length;r++){var i=o[r];i.editing&&(t=this.dateconv.InRussianDate(i.dt),this.idNPARev.push({label:i.num+" от "+t,value:""+i.id}))}this.revisserv.getRevList(n).subscribe(function(t){e.tableRevValue=e.initRevView(t.json(),e.documentsForTable),e.lengthRev=e.tableRevValue.length,e.isProgressBar=!1})},AuditComponent.prototype.initVariables=function(){this.docDate=this.selectedDocList.dt,this.idNPARev=[],this.idNPARev.push({label:"Без документа",value:""}),this.modelFormRevision=new p.a},AuditComponent.prototype.initRevView=function(e,t){for(var n=[],r=this,o=0;o<e.length;o++)!function(o){n[o]=new m.a,n[o].idRev=e[o].rev.id,n[o].dtBegin=r.dateconv.InUniversalDate(e[o].rev.dtBegin),n[o].dtRev=r.dateconv.InUniversalDate(e[o].rev.dtRev),n[o].loaded=e[o].loaded,n[o].disabled=!e[o].loaded,n[o].idDoc=e[o].rev.id_NPA,n[o].id_NPA_Revision=e[o].rev.id_NPA_Revision,null==e[o].rev.dtEnd?n[o].dtEnd=null:n[o].dtEnd=r.dateconv.InUniversalDate(e[o].rev.dtEnd),null!=n[o].id_NPA_Revision?n[o].npaRevDoc=t.find(function(e){return e.id==n[o].id_NPA_Revision}):n[o].npaRevDoc=null,null==n[o].dtRev?n[o].original=!0:n[o].original=n[o].dtRev.valueOf()==r.selectedDocList.dt.valueOf()}(o);return n},AuditComponent.prototype.onRowRevSelect=function(e){this.modelFormRevision=e.data},AuditComponent.prototype.showAddRevis=function(){this.displayAddRevis=!0},AuditComponent.prototype.btnAddRev=function(){null!=this.selectedDocList?(this.modelFormRevision=new p.a,this.flagRevEdit=!1,this.showAddRevis()):this.msgs.push(this.growlserv.showError(this.error.notSelectedDocument()))},AuditComponent.prototype.btnEditRev=function(e){this.modelFormRevision=new p.a,this.modelFormRevision.getField(e),this.editRev()},AuditComponent.prototype.editRev=function(){var e=this;this.revisserv.getCheckIsDeletedRev(this.selectedDocList.id,this.modelFormRevision.idRev).subscribe(function(t){t.json()?e.msgs.push(e.growlserv.showError(e.error.revisionWasDeleted(e.modelFormRevision.idRev))):(e.flagRevEdit=!0,e.modelFormRevision.initField(e.modelFormRevision.idRev,e.modelFormRevision.dtBegin,e.modelFormRevision.dtRev,e.modelFormRevision.dtEnd,e.modelFormRevision.id_NPA_Revision,e.modelFormRevision.original),e.showAddRevis())})},AuditComponent.prototype.btnViewStruct=function(e){var t=this;this.showProgress(),this.revisserv.getCheckIsDeletedRev(this.selectedDocList.id,e.idRev).subscribe(function(n){n.json()?t.msgs.push(t.growlserv.showError(t.error.revisionWasDeleted(e.idRev))):(t.modelFormRevision=new p.a,t.modelFormRevision.getField(e),t.initTreeStructRev())})},AuditComponent.prototype.initTreeStructRev=function(){var e=this;this.treeserv.getDataTree(this.selectedDocList.id,this.modelFormRevision.idRev).subscribe(function(t){e.modelTree=e.dateconv.dateParseTree(t.json()),e.flag=!1,e.flagStructRev=!0,e.switchboard=C.a.structRev,e.hideProgress()})},AuditComponent.prototype.btnFullViewing=function(){var e=this;this.showProgress(),""!=this.selectedTree.data.type&&null!=this.selectedElemType&&(this.selectedElemType.label=this.selectedTree.data.type);var t=this.selectedTree.data.id,n=this.selectedDocList.id,r=this.modelFormRevision.idRev;this.treeserv.getDocStrText(t,n,r).subscribe(function(t){e.initElemTable(t),e.flagFullView=!1,e.switchboard="fullver",e.hideProgress()})},AuditComponent.prototype.onNodeTreeSelect=function(e){this.disFullViewing=!1},AuditComponent.prototype.showDelResponse=function(){this.displayDelResponse=!0},AuditComponent.prototype.hideDelResponse=function(){this.displayDelResponse=!1},AuditComponent.prototype.btnDelRev=function(e){this.modelFormRevision=new p.a,this.modelFormRevision.getField(e),this.showDelResponse()},AuditComponent.prototype.btnDelAnswerYes=function(){var e=this,t=this.modelFormRevision.idRev;this.revisserv.getDeleteRev(t).subscribe(function(t){e.revView(),e.hideDelResponse()})},AuditComponent.prototype.revSubmit=function(){var e=f.a.getObjectRevSubmit(this.selectedDocList.id,this.revForm.form);null!=e.dtRev?null!=e.dtBegin?(null==this.revForm.form._value.dtRev&&(e.dtRev=this.selectedDocList.dt),this.selectMetodRevSubmit(e)):this.msgs.push(this.growlserv.showError("Не введена дата начала редакции!")):this.msgs.push(this.growlserv.showError("Не введена дата редакции!"))},AuditComponent.prototype.selectMetodRevSubmit=function(e){var t=this;if(this.flagRevEdit){var n=this.modelFormRevision.idRev;this.revisserv.getPutRev(n,e).subscribe(function(e){t.displayAddRevis=!1,t.revView()})}else this.revisserv.getPostRev(e).subscribe(function(e){t.displayAddRevis=!1,t.revView()})},AuditComponent.prototype.onBeforeSendUploadFile=function(e){this.showProgress();var t=this.treeserv.createHeader(this.head.createCsrfHeader());e.xhr.setRequestHeader(t.key[0],t.value[0])},AuditComponent.prototype.onSelectUploadFile=function(e){"text/plain"==e.files[0].type?this.fileload.url=this.treeserv.formattedURL():(this.msgs=[],this.msgs.push(this.growlserv.showError("Не верный формат файла!")))},AuditComponent.prototype.onUploadFile=function(e){this.uploadFile(e)},AuditComponent.prototype.uploadFile=function(e){n.i(s.isUndefined)(this.modelFormRevision.idRev&&null!=this.modelFormRevision.idRev)?(this.msgs=[],this.msgs.push(this.growlserv.showError(this.error.notSelectedRevision()))):(this.fileName=e.files[0].name,200==e.xhr.status?(this.modelTreeFile=JSON.parse(e.xhr.response),this.flag=!1,this.flagDloadText=!0,this.switchboard=C.a.dloadText):(this.msgs=[],this.msgs.push(this.growlserv.showError("Ошибка сервера: "+e.xhr.status+"\n "+e.xhr.statusText))),this.hideProgress()),this.hideProgress()},AuditComponent.prototype.btnViewImage=function(e){var t=this;this.revisserv.getCheckIsDeletedRev(this.selectedDocList.id,e.idRev).subscribe(function(n){n.json()?t.msgs.push(t.growlserv.showError(t.error.revisionWasDeleted(e.idRev))):t.viewImage(e)})},AuditComponent.prototype.viewImage=function(e){var t=this;this.showProgress(),this.modelFormRevision=new p.a,this.modelFormRevision.getField(e),this.revisserv.getViewHTML(this.selectedDocList.id,this.modelFormRevision.idRev).subscribe(function(e){0!=e.text().length?(t.doc=t.selectedDocList,t.revis=t.modelFormRevision,t.htmlText=e.text(),t.flag=!1,t.flagImageView=!0,t.switchboard=C.a.imageView):t.msgs.push(t.growlserv.showError(t.error.notLoadingRevision())),t.hideProgress()})},AuditComponent.prototype.btnMergeAndCompare=function(){var e=this,t=this.selectedDocList.id;this.mergedTree=new d.a,this.valuesForMerge=this.mergedTree.sortedMergedRevision(this.valuesForMerge,this.selectedDocList,this.tableRevValue);var n=this.valuesForMerge;this.revisserv.getCheckIsDeletedRev(t,+n[0]).subscribe(function(r){r.json()?e.msgs.push(e.growlserv.showError(e.error.revisionWasDeleted(+n[0]))):e.revisserv.getCheckIsDeletedRev(t,+n[1]).subscribe(function(r){r.json()?e.msgs.push(e.growlserv.showError(e.error.revisionWasDeleted(+n[1]))):e.revisserv.compareRevisions(+t,+n[0],+n[1]).subscribe(function(t){e.doc=e.selectedDocList,e.comRevResp=t,e.findCompareRevs(),e.flag=!1,e.flagCompareRev=!0,e.switchboard=C.a.compareRevis})})})},AuditComponent.prototype.onMergeSelected=function(){this.mergeDisabled=2!=this.valuesForMerge.length,this.compareDisabled=2!=this.valuesForMerge.length},AuditComponent.prototype.btnCompareStruct=function(){var e=this;this.showProgress(),this.mergedTree=new d.a,this.valuesForMerge=this.mergedTree.sortedMergedRevision(this.valuesForMerge,this.selectedDocList,this.tableRevValue);var t=this.valuesForMerge;this.revisserv.getCheckIsDeletedRev(this.selectedDocList.id,+t[0]).subscribe(function(n){n.json()?e.msgs.push(e.growlserv.showError(e.error.revisionWasDeleted(+t[0]))):e.revisserv.getCheckIsDeletedRev(e.selectedDocList.id,+t[1]).subscribe(function(n){n.json()?e.msgs.push(e.growlserv.showError(e.error.revisionWasDeleted(+t[1]))):e.revisserv.compareStruct(e.selectedDocList.id,+t[0],+t[1]).subscribe(function(t){e.compareTrees(t)})})})},AuditComponent.prototype.compareTrees=function(e){0!=e.json().children.length?(this.resp=e.json(),this.doc=this.selectedDocList,this.findCompareRevs(),this.hideProgress(),this.flag=!1,this.flagMerge=!0,this.leftTable=this.dtRev1,this.rightTable=this.dtRev2,this.mergedTree=new d.a,this.mergedTree=this.mergedTree.createMergedTree(this.mergedTree,this.resp),this.switchboard=C.a.mergedTree):this.msgs.push(this.growlserv.showSuccess("Структуры идентичны!")),this.hideProgress()},AuditComponent.prototype.findCompareRevs=function(){var e=m.a.findRevision(this.tableRevValue,this.valuesForMerge[0]);this.dtRev1=e.dtRev,e=m.a.findRevision(this.tableRevValue,this.valuesForMerge[1]),this.dtRev2=e.dtRev},AuditComponent.prototype.rowTrackBy=function(e,t){return t.id},AuditComponent.prototype.clear=function(){this.msgs=[]},AuditComponent.prototype.btnBack=function(){this.flag=!0,this.flagMerge=!1},AuditComponent.prototype.btnCompareRevBack=function(){this.flag=!0,this.flagCompareRev=!1},AuditComponent.prototype.btnImageViewBack=function(){this.flag=!0,this.flagImageView=!1},AuditComponent.prototype.btnDloadTextBack=function(){this.flag=!0,this.flagDloadText=!1},AuditComponent.prototype.btnStructRevBack=function(){this.flag=!0,this.flagStructRev=!1},AuditComponent.prototype.btnDownloadRev=function(){var e=this.doc.id,t=this.revis.idRev;this.docreq.getDocumentDownload(e,t).subscribe(function(e){var t=e.blob(),r=new Blob([t],{type:"application/pdf;charset=utf-8"});n.i(_.saveAs)(r,"output.pdf")})},AuditComponent.prototype.btnSaveLoadFile=function(){var e=this,t=this.selectedDocList.id,n=this.modelFormRevision.idRev;this.treeserv.getDocConvert(t,n).subscribe(function(t){e.flagDloadText=!1,e.flag=!0,e.msgs.push({severity:"success",summary:"Внимание",detail:"Сохранение прошло успешно!"})})},AuditComponent.prototype.btnAddElem=function(){var e=this,t=this.checkOnElemType();null!=t?this.dict.postElemType(t).subscribe(function(n){e.getDict();for(var r=0;r<e.elemTypes.length;r++)e.elemTypes[r].label==t&&(e.selectedElemType=e.elemTypes[r]);e.disAddElemType=!0}):this.growlserv.showError("Такой элемент уже существует!")},AuditComponent.prototype.strSubmit=function(){var e=this,t=this.selectedTree.data.id,n=this.modelFormRevision.idDoc,r=this.modelFormRevision.idRev,o=h.a.objSubmit(this.strForm.form,this.selectedTree.data,this.tabRevfull[0].label);this.treeserv.postDocStrDates(o,t,n,r).subscribe(function(t){e.initTreeStructRev(),e.switchboard=C.a.structRev})},AuditComponent.prototype.onChangeElemType=function(){""==this.selectedElemType.label&&""!=this.selectedElemType.value?this.disAddElemType=!1:this.disAddElemType=!0},AuditComponent.prototype.checkOnElemType=function(){for(var e=1;e<this.elemTypes.length;e++)if(this.elemTypes[e].label==this.selectedElemType.value)return null;return this.selectedElemType.value},AuditComponent.prototype.btnBackFullVer=function(){this.switchboard=C.a.structRev,this.initTreeStructRev()},AuditComponent.prototype.setEventTypeLabel=function(){document.getElementById("EventTypeSelection").getElementsByClassName("ui-multiselect-label-container")[0].getElementsByClassName("ui-multiselect-label")[0].textContent=this.selectOrganizations.length+" организаций выбрано"},M([n.i(r.ViewChild)("addForm"),S("design:type",r.ElementRef)],AuditComponent.prototype,"form",void 0),M([n.i(r.ViewChild)("RevForm"),S("design:type",r.ElementRef)],AuditComponent.prototype,"revForm",void 0),M([n.i(r.ViewChild)("fileload"),S("design:type",r.ElementRef)],AuditComponent.prototype,"fileload",void 0),M([n.i(r.ViewChild)("gb"),S("design:type",r.ElementRef)],AuditComponent.prototype,"gb",void 0),M([n.i(r.ViewChild)("StrForm"),S("design:type",r.ElementRef)],AuditComponent.prototype,"strForm",void 0),AuditComponent=M([n.i(r.Component)({selector:"sg-comp-app",template:n(399)}),E(0,n.i(r.Inject)(R.a)),E(1,n.i(r.Inject)(g.a)),E(2,n.i(r.Inject)(v.a)),E(3,n.i(r.Inject)(T.a)),E(4,n.i(r.Inject)(y.a)),E(5,n.i(r.Inject)(D.a)),E(6,n.i(r.Inject)(b.a)),E(7,n.i(r.Inject)(F.a)),E(8,n.i(r.Inject)(w.a)),E(9,n.i(r.Inject)(l.a)),S("design:paramtypes",[R.a,g.a,v.a,T.a,y.a,D.a,b.a,F.a,w.a,l.a])],AuditComponent)}()},247:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function CompareRevisComponent(){this.strHtml=""}return CompareRevisComponent.prototype.ngOnInit=function(){this.compareRevis(this.comRevResp)},CompareRevisComponent.prototype.compareRevis=function(e){this.strHtml=e.text()},o([n.i(r.Input)(),i("design:type",Object)],CompareRevisComponent.prototype,"comRevResp",void 0),CompareRevisComponent=o([n.i(r.Component)({selector:"comrev-app",template:n(400)}),i("design:paramtypes",[])],CompareRevisComponent)}()},248:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(137),i=n(55),s=n(43),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},c=function(){function DownloadNpa(e,t,n){this.downloadNpaReq=e,this.treeserv=t,this.head=n,this.isProgressBar=!1,this.isProblem=!1,this.msgs=[],this.stateDownloadNpa=[]}return DownloadNpa.prototype.ngOnInit=function(){},DownloadNpa.prototype.onBeforeSendUploadFile=function(e){var t=this.treeserv.createHeader(this.head.createCsrfHeader());e.xhr.setRequestHeader(t.key[0],t.value[0])},DownloadNpa.prototype.onSelectUploadFile=function(e){e.files[0].size<=2097152?(this.isProgressBar=!0,this.fileload.url=this.downloadNpaReq.formattedURL()):(this.msgs=[],this.msgs.push({severity:"error",summary:"Внимание",detail:"Размер файла не должен превышать 2Мб!"}))},DownloadNpa.prototype.onUploadFile=function(e){this.uploadFile(e)},DownloadNpa.prototype.uploadFile=function(e){this.stateDownloadNpa=[],200==e.xhr.status&&(this.stateDownloadNpa=JSON.parse(e.xhr.response),this.isProgressBar=!1)},a([n.i(r.ViewChild)("fileload"),l("design:type",r.ElementRef)],DownloadNpa.prototype,"fileload",void 0),DownloadNpa=a([n.i(r.Component)({selector:"download-doc-app",template:n(401)}),d(0,n.i(r.Inject)(o.a)),d(1,n.i(r.Inject)(i.a)),d(2,n.i(r.Inject)(s.a)),l("design:paramtypes",[o.a,i.a,s.a])],DownloadNpa)}()},249:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(0),o=n(89),i=n(85),s=n(87),a=n(134),l=n(131),d=n(91),c=n(54),p=n(90),u=n(55),h=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},g=function(){function FullElemStructRevComponent(e,t,n,r){this.ru=e,this.dict=t,this.treeserv=n,this.growlserv=r,this.elemDisabled=!1,this.disAddElemType=!0,this.isComponent=!0}return FullElemStructRevComponent.prototype.ngOnInit=function(){this.ru.settings(),this.rus=this.ru.getRuLocale(),this.initTable(this.get)},FullElemStructRevComponent.prototype.initTable=function(e){if(this.tabRevfull=[],this.tabRevfull[0]=l.a.strVal(e.text(),this.selectedTree.data),""!=this.selectedTree.data.type){this.elemDisabled=!0;for(var t=0;t<this.elemTypes.length;t++)if(this.selectedTree.data.type==this.elemTypes[t].label){this.selectedElemType=this.elemTypes[t];break}}else this.selectedElemType=this.elemTypes[0],this.elemDisabled=!1},FullElemStructRevComponent.prototype.onChangeElemType=function(e){""==this.selectedElemType.label&&""!=this.selectedElemType.value?this.disAddElemType=!1:this.disAddElemType=!0},FullElemStructRevComponent.prototype.checkOnElemType=function(){for(var e=1;e<this.elemTypes.length;e++)if(this.elemTypes[e].label==this.selectedElemType.value)return null;return this.selectedElemType.value},FullElemStructRevComponent.prototype.getDict=function(){var e=this;this.elemTypes=[],this.dict.getElemTypes().subscribe(function(t){e.elemTypes=p.a.getDict(t)})},FullElemStructRevComponent.prototype.btnAddElem=function(){var e=this,t=this.checkOnElemType();null!=t?this.dict.postElemType(t).subscribe(function(n){e.getDict();for(var r=0;r<e.elemTypes.length;r++)e.elemTypes[r].label==t&&(e.selectedElemType=e.elemTypes[r]);e.disAddElemType=!0}):this.growlserv.showError("Такой элемент уже существует!")},FullElemStructRevComponent.prototype.strSubmit=function(){var e=this,t=this.selectedTree.data.id,n=this.modelFormRevision.idDoc,r=this.modelFormRevision.idRev,o=l.a.objSubmit(this.strForm.form,this.selectedTree.data,this.tabRevfull[0].label);this.treeserv.postDocStrDates(o,t,n,r).subscribe(function(t){e.isComponent=!1})},FullElemStructRevComponent.prototype.btnBack=function(){this.isComponent=!1},h([n.i(r.ViewChild)("StrForm"),f("design:type",r.ElementRef)],FullElemStructRevComponent.prototype,"strForm",void 0),h([n.i(r.Input)(),f("design:type",i.a)],FullElemStructRevComponent.prototype,"selectedDocList",void 0),h([n.i(r.Input)(),f("design:type",s.a)],FullElemStructRevComponent.prototype,"modelFormRevision",void 0),h([n.i(r.Input)(),f("design:type",a.a)],FullElemStructRevComponent.prototype,"selectedTree",void 0),h([n.i(r.Input)(),f("design:type",Array)],FullElemStructRevComponent.prototype,"elemTypes",void 0),h([n.i(r.Input)(),f("design:type",Object)],FullElemStructRevComponent.prototype,"get",void 0),FullElemStructRevComponent=h([n.i(r.Component)({selector:"fullelem-app",template:n(402)}),m(0,n.i(r.Inject)(o.a)),m(1,n.i(r.Inject)(c.a)),m(2,n.i(r.Inject)(u.a)),m(3,n.i(r.Inject)(d.a)),f("design:paramtypes",[o.a,c.a,u.a,d.a])],FullElemStructRevComponent)}()},250:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function ImageViewComponent(){}return ImageViewComponent.prototype.ngOnInit=function(){},o([n.i(r.Input)(),i("design:type",String)],ImageViewComponent.prototype,"htmlText",void 0),ImageViewComponent=o([n.i(r.Component)({selector:"imgview-app",template:n(403)}),i("design:paramtypes",[])],ImageViewComponent)}()},251:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(133),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function MtComponent(){this.isComponent=!0}return MtComponent.prototype.ngOnInit=function(){},MtComponent.prototype.btnBack=function(){this.isComponent=!1},i([n.i(r.Input)(),s("design:type",o.a)],MtComponent.prototype,"mergedTree",void 0),MtComponent=i([n.i(r.Component)({selector:"mt-app",template:n(404)}),s("design:paramtypes",[])],MtComponent)}()},252:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(130),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function TreeDownloadTextComponent(){}return TreeDownloadTextComponent.prototype.ngOnInit=function(){},i([n.i(r.Input)(),s("design:type",o.a)],TreeDownloadTextComponent.prototype,"modelTreeFile",void 0),TreeDownloadTextComponent=i([n.i(r.Component)({selector:"dload-app",template:n(405)}),s("design:paramtypes",[])],TreeDownloadTextComponent)}()},253:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(55),i=n(134),s=n(85),a=n(87),l=n(90),d=n(54),c=n(46),p=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},f=function(){function TreeStructRevComponent(e,t,n){this.treeserv=e,this.dateconv=t,this.dict=n,this.flagFullView=!0,this.switchboard="main",this.displayLoading=!1,this.disFullViewing=!0,this.disAddElemType=!1,this.isComponent=!0,this.flagFull=!1,this.selectedTree=new i.a}return TreeStructRevComponent.prototype.ngOnInit=function(){this.getDict()},TreeStructRevComponent.prototype.getDict=function(){var e=this;this.elemTypes=[],this.dict.getElemTypes().subscribe(function(t){e.elemTypes=l.a.getDict(t)})},TreeStructRevComponent.prototype.btnFullViewing=function(){var e=this;this.showProgress(),""!=this.selectedTree.data.type&&null!=this.selectedElemType&&(this.selectedElemType.label=this.selectedTree.data.type);var t=this.selectedTree.data.id,n=this.selectedDocList.id,r=this.modelFormRevision.idRev;this.treeserv.getDocStrText(t,n,r).subscribe(function(t){e.get=t,e.flagFullView=!1,e.switchboard="fullver",e.hideProgress()})},TreeStructRevComponent.prototype.onNodeTreeSelect=function(e){this.disFullViewing=!1},TreeStructRevComponent.prototype.showProgress=function(){this.displayLoading=!0},TreeStructRevComponent.prototype.hideProgress=function(){this.displayLoading=!1},p([n.i(r.Input)(),u("design:type",s.a)],TreeStructRevComponent.prototype,"selectedDocList",void 0),p([n.i(r.Input)(),u("design:type",a.a)],TreeStructRevComponent.prototype,"modelFormRevision",void 0),p([n.i(r.Input)(),u("design:type",Array)],TreeStructRevComponent.prototype,"modelTree",void 0),p([n.i(r.Output)(),u("design:type",Boolean)],TreeStructRevComponent.prototype,"flagFullView",void 0),TreeStructRevComponent=p([n.i(r.Component)({selector:"structrev-app",template:n(406)}),h(0,n.i(r.Inject)(o.a)),h(1,n.i(r.Inject)(c.a)),h(2,n.i(r.Inject)(d.a)),u("design:paramtypes",[o.a,c.a,d.a])],TreeStructRevComponent)}()},254:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(88),i=n(136),s=n(46),a=n(111),l=(n.n(a),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}),d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},p=function(){function UploadDocument(e,t,n){this.docNpaReq=e,this.uploadDocReq=t,this.dateTransform=n,this.isProgressBar=!1,this.disCreateFile=!0,this.selectDocs=0,this.documents=[],this.selectedDocs=[]}return UploadDocument.prototype.ngOnInit=function(){this.loadTable()},UploadDocument.prototype.loadTable=function(){var e=this;this.isProgressBar=!0,this.documents.length=0,this.docNpaReq.getDataFindList().subscribe(function(t){e.documents=t.json();for(var n=0,r=e.documents;n<r.length;n++){var o=r[n];o.dt=new Date(o.dt)}e.isProgressBar=!1})},UploadDocument.prototype.btnCreateFiles=function(){var e=this;this.isProgressBar=!0,this.uploadDocReq.getCreateFile(this.createListId()).subscribe(function(t){var r=t.blob(),o=new Blob([r],{type:"application/zip;charset=utf-8"}),i=new Date,s=e.dateTransform.InDBDate(i);n.i(a.saveAs)(o,s+".zip"),e.isProgressBar=!1})},UploadDocument.prototype.createListId=function(){var e=[];if(0!=this.selectedDocs.length&&null!=this.selectedDocs)for(var t=0,n=this.selectedDocs;t<n.length;t++){var r=n[t];e.push(r.id)}return e},UploadDocument.prototype.onRowSelect=function(){this.selectDocs++,this.disCreateFile=!1},UploadDocument.prototype.onRowUnselect=function(){0==this.selectedDocs.length&&(this.disCreateFile=!0),this.selectDocs--},UploadDocument=l([n.i(r.Component)({selector:"upload-doc-app",template:n(407)}),c(0,n.i(r.Inject)(o.a)),c(1,n.i(r.Inject)(i.a)),c(2,n.i(r.Inject)(s.a)),d("design:paramtypes",[o.a,i.a,s.a])],UploadDocument)}()},37:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(52),i=(n.n(o),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}),s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},l=function(){function RequestService(e){this.window=e,this.baseUrl=this.getLocation()+this.getWindow()}return RequestService.prototype.getWindow=function(){return n.i(o.isUndefined)(this.window.configContextPath)&&(this.window.configContextPath=""),this.window.configContextPath},RequestService.prototype.getLocation=function(){return this.window.location.origin},RequestService=i([n.i(r.Injectable)(),a(0,n.i(r.Inject)("Window")),s("design:paramtypes",[Object])],RequestService)}()},398:function(e,t){e.exports="<router-outlet></router-outlet>"},399:function(e,t,n){e.exports='<div [style.display]="(flag == true) ? \'block\' : \'none\'">\r\n    <p-toolbar item-width="320px">\r\n        <div class="ui-g">\r\n             <div class="ui-g-12">\r\n                 <div *ngIf="isProgressBar">\r\n                     <p-progressBar mode="indeterminate" [style]="{\'height\': \'6px\',\'weidth\':\'100%\'}"></p-progressBar>\r\n                 </div>\r\n             </div>\r\n        </div>\r\n        <div class="ui-g">\r\n         <div class="ui-g-12">\r\n             <div class="ui-toolbar-group-left">\r\n                 <i class="fa fa-search" style="margin:4px 4px 0 0"></i>\r\n                 <input #gb type="text" pInputText size="50" placeholder="Поиск">\r\n                 <button type="button" pButton (click)="btnPaste()" icon="fa-file-o" label="Добавить НПА" class="ui-button-success"></button>\r\n                 <button type="button" pButton (click)="btnEdit()" icon="fa-pencil-square-o" label="Редактировать НПА" [disabled]="editFlag"></button>\r\n                 <button type="button" pButton (click)="btnDelete()" icon="fa-trash-o" label="Удалить НПА" [disabled]="delFlag" class="ui-button-danger"></button>\r\n                 <button type="button" pButton (click)="btnRefresh()" icon="fa-refresh" pTooltip="Обновить" tooltipPosition="top"></button>\r\n             </div>\r\n             <div class="ui-toolbar-group-right">\r\n                 <br>\r\n                 <a href="./directory/fzDownloadManual" title="Руководство пользователя" download style="margin-left: 50px">Инструкция пользователя</a>\r\n             </div>\r\n            </div>\r\n        </div>\r\n    </p-toolbar>\r\n    <div class="flex-auto layout-column" id="grid-content-container">\r\n        <p-blockUI [target]="dt" [blocked]="blockedTable"></p-blockUI>\r\n            <p-dataTable [value]="documentsForTable"\r\n                     [globalFilter]="gb"\r\n                     emptyMessage=""\r\n                     [immutable]="false"\r\n                     scrollable="false"\r\n                     scrollHeight="327%"\r\n                     expandableRows="true"\r\n                     rowExpandMode="single"\r\n                     [expandedRows]="expanded"\r\n                     selectionMode="single"\r\n                     [(selection)]="selectedDocList"\r\n                     (onRowClick)="onClickRowTable($event)"\r\n                     (onRowExpand)="onRowExpand($event)"\r\n                     (onRowCollapse)="onRowCollapse($event)"\r\n                     (onFilter)="onFilterDoc($event)"\r\n                     [rowTrackBy]="rowTrackBy"\r\n                     dataKey="id"\r\n                     [metaKeySelection]="false" #dt>\r\n            <p-footer>\r\n                <div style="text-align:left;font-weight:bold">Всего документов: {{lengthDoc}} Найдено: {{lengthDocFilter}}</div>\r\n            </p-footer>\r\n            \x3c!-- Колонки таблицы --\x3e\r\n            <p-column expander="true" styleClass="col-icon" [style]="{\'width\':\'3%\'}"></p-column>\r\n            <p-column field="num" header="№" [sortable]="true" [style]="{\'width\':\'7%\',\'text-align\':\'center\'}">\r\n                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                    <div [style.font-weight]="(row.hasData == true) ? \'bold\' : \'normal\'">\r\n                        <span>{{  row[col.field] }}</span>\r\n                    </div>\r\n                </ng-template>\r\n            </p-column>\r\n            <p-column field="date" header="Дата" [sortable]="true" [style]="{\'width\':\'10%\',\'text-align\':\'center\'}">\r\n                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                    <span>{{row[col.field]}}</span>\r\n                </ng-template>\r\n            </p-column>\r\n            <p-column field="name" header="Наименование" [sortable]="true" [style]="{\'width\':\'62%\'}"></p-column>\r\n            <p-column field="docType.name" header="Вид" [sortable]="true" [excludeGlobalFilter]="true" [style]="{\'width\':\'10%\',\'text-align\':\'center\'}" ></p-column>\r\n            <p-column field="editing" header="Тип НПА" [sortable]="true" [excludeGlobalFilter]="true" [style]="{\'width\':\'8%\',\'text-align\':\'center\'}" [filter]="true" filterMatchMode="contains">\r\n                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                    {{row[col.field] == true ? "Изм." : "Осн."}}\r\n                </ng-template>\r\n                <ng-template pTemplate="filter" let-col>\r\n                    <p-dropdown [options]="docTypeFilters" [(ngModel)]="selectedEditingDrop" [style]="{\'width\':\'100%\',\'font-size\':\'0.6em\'}" (onChange)="dt.filter($event.value,col.field,col.filterMatchMode)" styleClass="ui-column-filter" inputId="selectedEditingDrop"></p-dropdown>\r\n                </ng-template>\r\n            </p-column>\r\n            <ng-template let-car pTemplate="rowexpansion">\r\n                <div class="ui-g">\r\n                    <div class="ui-g-7" style="margin-left: 50px;">\r\n                        <p-toolbar>\r\n                            <div class="ui-toolbar-group-left">\r\n                                <button type="button" pButton (click)="btnAddRev()" icon="fa-file-o" label="Добавить" class="ui-button-success"></button>\r\n                                <button type="button" pButton (click)="btnMergeAndCompare()" [(disabled)]="mergeDisabled" label="Сравнить текст"></button>\r\n                                <button type="button" pButton (click)="blockedTable = true; btnCompareStruct();" [(disabled)]="compareDisabled" label="Сравнить структуру"></button>\r\n                            </div>\r\n                            <div class="ui-toolbar-group-right">\r\n                                <p-fileUpload #fileload url="" chooseLabel="Загрузить файл текста редакции" name="uploadedFileRef" mode="basic" auto="true" (onBeforeSend)="onBeforeSendUploadFile($event)" (onUpload)="onUploadFile($event)" (onSelect)="onSelectUploadFile($event)" accept=".txt"></p-fileUpload>\r\n                            </div>\r\n                        </p-toolbar>\r\n                        \x3c!-- Таблица редакций --\x3e\r\n                        <p-dataTable [value]="tableRevValue"\r\n                                     emptyMessage=""\r\n                                     [scrollable]="true"\r\n                                     scrollHeight="120%"\r\n                                     selectionMode="single"\r\n                                     [(selection)]="modelFormRevision"\r\n                                     (onRowSelect)="onRowRevSelect($event)">\r\n                            <p-footer>\r\n                                <div style="text-align:left;font-weight:bold">Всего редакций: {{lengthRev}}</div>\r\n                            </p-footer>\r\n                            <p-column [style]="{\'width\':\'30px\'}" field="idRev">\r\n                                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                                    <p-checkbox name="groupname" [value]="row[col.field]" [(ngModel)]="valuesForMerge" (onChange)="onMergeSelected()" [disabled]="row.disabled"></p-checkbox>\r\n                                </ng-template>\r\n                            </p-column>\r\n                            \x3c!-- Столбец для кнопок --\x3e\r\n                            <p-column styleClass="col-button" [style]="{\'width\':\'152px\'}">\r\n                                <ng-template let-row="rowData" pTemplate="body">\r\n                                    <div>\r\n                                        <button type="button" pButton (click)="btnEditRev(row)" icon="fa-pencil-square-o" pTooltip="Редактирование" tooltipPosition="top"></button>\r\n                                        <button type="button" pButton (click)="btnViewStruct(row)" icon="fa fa-search" pTooltip="Редактирование структуры" tooltipPosition="top"></button>\r\n                                        <button type="button" pButton (click)="btnViewImage(row)" icon="fa fa-eye" pTooltip="Просмотр образа" tooltipPosition="top"></button>\r\n                                        <button type="button" pButton (click)="btnDelRev(row)" icon="fa-trash-o" pTooltip="Удаление" tooltipPosition="top" class="ui-button-danger"></button>\r\n                                    </div>\r\n                                </ng-template>\r\n                            </p-column>\r\n                            <p-column field="dtRev" header="Редакции НПА" [style]="{\'width\':\'180px\'}">\r\n                                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                                    <div [style.font-weight]="(row.loaded == true) ? \'bold\' : \'normal\'">\r\n                                        <span *ngIf="row.idRev == null; else elseRevBlock1">Первоначальная</span>\r\n                                        <ng-template #elseRevBlock1>\r\n                                            <span *ngIf="row.original; else elseRevBlock2">Первоначальная</span>\r\n                                            <ng-template #elseRevBlock2>\r\n                                                <span> ред. от {{  row[col.field] | date: \'dd.MM.yyyy\' }}</span>\r\n                                            </ng-template>\r\n                                        </ng-template>\r\n                                    </div>\r\n                                </ng-template>\r\n                            </p-column>\r\n                            <p-column field="npaRevDoc" header="НПА, которым внесены изменения">\r\n                                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                                    <div>\r\n                                        <span [style.display]="row[col.field] == null ? \'inline\' : \'none\'">Без документа</span>\r\n                                        <span [style.display]="row[col.field] == null ? \'none\' : \'inline\'"> № {{ row[col.field] == null ? "" :  row[col.field].num }} от {{ row[col.field] == null ? "" :  row[col.field].dt | date: \'dd.MM.yyyy\' }}</span>\r\n                                    </div>\r\n                                </ng-template>\r\n                            </p-column>\r\n                            <p-column field="dtBegin" header="Вступает в силу с">\r\n                                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                                    <div>{{  row[col.field] | date: \'dd.MM.yyyy\' }}</div>\r\n                                </ng-template>\r\n                            </p-column>\r\n                        </p-dataTable>\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n        </p-dataTable>\r\n    </div>\r\n    \x3c!-- Диалоговое окно полосы загрузки --\x3e\r\n    <div>\r\n        <p-dialog [(visible)]="displayLoading" [style]="{\'border\':\'2px solid #0242FF\'}">\r\n            <p-header>\r\n                Пожалуйста, подождите...\r\n            </p-header>\r\n            <div class="imageContainer glass">\r\n                <img src="'+n(176)+'" width="350" height="40" border="0" />\r\n            </div>\r\n        </p-dialog>\r\n    </div>\r\n    \x3c!-- Всплывающее окно информации --\x3e\r\n    <div>\r\n        <p-growl [(value)]="msgs" [sticky]="true"></p-growl>\r\n    </div>\r\n    \x3c!-- Диалоговое окно для добавления/редактирования документа --\x3e\r\n    <p-dialog [(visible)]="displayPaste" width="585" height="500" [style]="{\'border\':\'2px solid #0242FF\'}">\r\n        <p-header>\r\n            <span>{{modelFormDocs.id == null ? "Добавить" : "Редактировать"}}</span>\r\n        </p-header>\r\n            <form #addForm="ngForm" class="ng-pristine ng-untouched ng-valid" novalidate="" (ngSubmit)="docSubmit()">\r\n                <input type="hidden" name="id" [(ngModel)]="modelFormDocs.id"/>\r\n                <p>\r\n                    <span style="font-weight: bold">\r\n                        Номер НПА:\r\n                    </span>\r\n                    <input type="text" size="5" name="number" pInputText [(ngModel)]="modelFormDocs.num"/>\r\n                </p>\r\n                <p>\r\n                    <span style="font-weight: bold">\r\n                        Дата НПА:\r\n                    </span>\r\n                    <p-calendar name="date" [(ngModel)]="modelFormDocs.dt" dateFormat="dd.mm.yy" [locale]="rus" [monthNavigator]="true" [yearNavigator]="true" yearRange="1950:2050" [showIcon]="true" styleClass="calendarOverFlow"></p-calendar>\r\n                </p>\r\n                <p>\r\n                    <span style="font-weight: bold">\r\n                        Тип НПА:\r\n                    </span>\r\n                    <p-dropdown [options]="arrTypes" name="type" [(ngModel)]="modelFormDocs.type" [style]="{\'width\':\'250px\'}" inputId="modelFormDocs.type"></p-dropdown>\r\n                </p>\r\n                <p>\r\n                    <span style="font-weight: bold">\r\n                        Организации-учредители:\r\n                    </span>\r\n                    <p-multiSelect [options]="organizations" [(ngModel)]="selectOrganizations"\r\n                                   id="EventTypeSelection"\r\n                                   defaultLabel="{{setEventTypeLabel()}}"\r\n                                   [style]="{\'width\':\'500px\'}"\r\n                                   (onChange)="setEventTypeLabel()"\r\n                                   [panelStyle]="{minWidth:\'12em\'}"\r\n                                   [ngModelOptions]="{standalone: true}">\r\n                        <ng-template let-item pTemplate="item">\r\n                            <span>{{item.label}}</span>\r\n                        </ng-template>\r\n                    </p-multiSelect>\r\n                </p>\r\n                <p>\r\n                    <span style="font-weight: bold">\r\n                        Изм. НПА: {{modelFormDocs.editing == true ? "Да" : "Нет"}}\r\n                    </span>\r\n                    <p-checkbox name="editing" [(ngModel)]="modelFormDocs.editing" binary="true"></p-checkbox>\r\n                </p>\r\n                <p>\r\n                </p>\r\n                <p>\r\n                    <span style="font-weight: bold">\r\n                        Название НПА:\r\n                    </span>\r\n                </p>\r\n                <p>\r\n                    <textarea name="name" [(ngModel)]="modelFormDocs.name" rows="4" cols="60" pInputTextarea autoResize="autoResize"></textarea>\r\n                </p>\r\n                <div class="ui-dialog-buttonpane ui-helper-clearfix">\r\n                    <button type="button" pButton icon="fa-close" (click)="displayPaste=false" label="Отмена" class="ui-button-danger"></button>\r\n                    <button type="submit" pButton icon="fa-file" label="Сохранить" class="ui-button-success"></button>\r\n                </div>\r\n            </form>\r\n    </p-dialog>\r\n    \x3c!-- Диалоговое окно добавления/редактирования редакции --\x3e\r\n    <p-dialog [(visible)]="displayAddRevis" width="520" height="500" [modal]="true" [style]="{\'border\':\'2px solid #0242FF\'}">\r\n        <p-header>\r\n            <span>{{modelFormRevision.idRev == null ? "Добавить" : "Редактировать"}}</span>\r\n        </p-header>\r\n        <form #RevForm="ngForm" class="ng-pristine ng-untouched ng-valid" novalidate="" (ngSubmit)="revSubmit()">\r\n            <input type="hidden" name="id" [(ngModel)]="modelFormRevision.idRev"/>\r\n            <p>\r\n                Первоначальная:\r\n                <span style="font-size: 18px">\r\n                    <p-checkbox name="original" [(ngModel)]="modelFormRevision.original" binary="false"></p-checkbox>\r\n                </span>\r\n            </p>\r\n            <p>\r\n                Номер изменяющего НПА:\r\n                <p-dropdown [options]="idNPARev" name="id_NPA_Revision" [(ngModel)]="modelFormRevision.id_NPA_Revision" [style]="{\'width\':\'150px\'}" inputId="modelFormRevision.id_NPA_Revision" filter="filter" [disabled]="modelFormRevision.original"></p-dropdown>\r\n            </p>\r\n            <p class="calendarOverFlow">\r\n                Дата редакции:\r\n                <p-calendar name="dtRev" [(ngModel)]="modelFormRevision.dtRev" dateFormat="dd.mm.yy" [monthNavigator]="true" [yearNavigator]="true" yearRange="1950:2050" [locale]="rus" [showIcon]="true" styleClass="calendarOverFlow" [disabled]="modelFormRevision.original"></p-calendar>\r\n            </p>\r\n            <p>\r\n                Срок действия редакции:<br />\r\n                <span>с <p-calendar name="dtBegin" [(ngModel)]="modelFormRevision.dtBegin" dateFormat="dd.mm.yy" [monthNavigator]="true" [yearNavigator]="true" yearRange="1950:2050" [locale]="rus" [showIcon]="true" styleClass="calendarOverFlow"></p-calendar></span>\r\n                <span [style.margin-left]="\'30px\'" [style.margin-right]="\'60px\'">по <p-calendar name="dtEnd" [(ngModel)]="modelFormRevision.dtEnd" dateFormat="dd.mm.yy" [monthNavigator]="true" [yearNavigator]="true" yearRange="1950:2050" [locale]="rus" [showIcon]="true" styleClass="calendarOverFlow"></p-calendar></span>\r\n            </p>\r\n            <textarea pInputTextarea style="opacity:0;" rows="8" autoResize="true" disabled="true"></textarea>\r\n            <div class="ui-dialog-buttonpane ui-helper-clearfix">\r\n                <button type="button" pButton icon="fa-close" (click)="displayAddRevis=false" label="Отмена" class="ui-button-danger"></button>\r\n                <button type="submit" pButton icon="fa-pencil-square-o" label="Сохранить" class="ui-button-success"></button>\r\n            </div>\r\n        </form>\r\n    </p-dialog>\r\n    \x3c!--Диалоговое окно при удалении редакции--\x3e\r\n    <p-dialog [(visible)]="displayDelResponse" height="155" [style]="{\'border\':\'2px solid #0242FF\'}">\r\n        <p-header>Удаление</p-header>\r\n        Вы действительно хотите удалить редакцию?\r\n        <div class="ui-dialog-buttonpane ui-helper-clearfix">\r\n            <button type="button" pButton icon="fa-close" (click)="displayDelResponse=false" label="Нет" class="ui-button-danger"></button>\r\n            <button type="button" pButton icon="fa-file" (click)="btnDelAnswerYes()" label="Да" class="ui-button-success"></button>\r\n        </div>\r\n    </p-dialog>\r\n    \x3c!--Диалоговое окно при удалении документа--\x3e\r\n    <p-dialog [(visible)]="displayDelDecResponse" height="155" [style]="{\'border\':\'2px solid #0242FF\'}">\r\n        <p-header>Удаление</p-header>\r\n        <div *ngIf="selectedDocList != null; else elseBlock">\r\n            Вы действительно хотите удалить НПА № {{selectedDocList.num}}?\r\n        </div>\r\n        <ng-template #elseBlock>Вы действительно хотите удалить НПА?</ng-template>\r\n        <div class="ui-dialog-buttonpane ui-helper-clearfix">\r\n            <button type="button" pButton icon="fa-close" (click)="hideDelDocResponse()" label="Нет" class="ui-button-danger"></button>\r\n            <button type="button" pButton icon="fa-file" (click)="btnDelDocAnswerYes()" label="Да" class="ui-button-success"></button>\r\n        </div>\r\n    </p-dialog>\r\n</div>\r\n<span [ngSwitch]="switchboard">\r\n    <ng-template ngSwitchCase="mergTree">\r\n        <div [style.display]="(flagMerge == true) ? \'block\' : \'none\'">\r\n            <p-toolbar class="headerMergeTrees">\r\n                <div class="ui-g">\r\n                    <div class="ui-g-4">\r\n                        <button type="button" pButton (click)="btnBack(); blockedTable=false;" icon="fas fa-angle-left" label="Назад"></button>\r\n                    </div>\r\n                    <div class="ui-g-4" style="font-size: 1.2em;font-weight:bold;text-align: center">\r\n                        НПА № {{doc.num}} от {{doc.dt | date: \'dd.MM.yyyy\'}}\r\n                    </div>\r\n                    <div class="ui-g-4"></div>\r\n                </div>\r\n                <div class="ui-g">\r\n                    <div class="ui-g-6" style="font-size: 1.2em;font-weight:bold;text-align: center">\r\n                        Редакция от {{leftTable | date: \'dd.MM.yyyy\'}}\r\n                    </div>\r\n                    <div class="ui-g-6" style="font-size: 1.2em;font-weight:bold;text-align: center">\r\n                        Редакция от {{rightTable | date: \'dd.MM.yyyy\'}}\r\n                    </div>\r\n                </div>\r\n            </p-toolbar>\r\n            <br>\r\n            <br>\r\n            <textarea pInputTextarea style="opacity: 0;" rows="3" autoResize="true" disabled="true"></textarea>\r\n            <mt-app [mergedTree]="mergedTree"></mt-app>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template ngSwitchCase="compRev">\r\n        <div [style.display]="(flagCompareRev == true) ? \'block\' : \'none\'">\r\n            <p-toolbar class="headerMergeTrees">\r\n                <div class="ui-g">\r\n                    <div class="ui-g-4">\r\n                        <button type="button" pButton (click)="btnCompareRevBack()" icon="fas fa-angle-left" label="Назад к таблице НПА"></button>\r\n                    </div>\r\n                    <div class="ui-g-4" style="font-size: 1.2em;font-weight:bold;text-align: center">\r\n                        НПА № {{doc.num}} от {{doc.dt | date: \'dd.MM.yyyy\'}}\r\n                    </div>\r\n                    <div class="ui-g-4"></div>\r\n                </div>\r\n                <div class="ui-g">\r\n                    <div class="ui-g-4" style="font-size: 1.2em;font-weight:bold">\r\n                        Редакция от {{dtRev1 | date: \'dd.MM.yyyy\'}}\r\n                    </div>\r\n                    <div class="ui-g-2"></div>\r\n                    <div class="ui-g-6" style="font-size: 1.2em;font-weight:bold">\r\n                        Редакция от {{dtRev2 | date: \'dd.MM.yyyy\'}}\r\n                    </div>\r\n                </div>\r\n            </p-toolbar>\r\n            <br>\r\n            <br>\r\n            <textarea pInputTextarea style="opacity: 0;" rows="3" autoResize="true" disabled="true"></textarea>\r\n            <comrev-app [comRevResp]="comRevResp"></comrev-app>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template ngSwitchCase="imageView">\r\n        <div [style.display]="(flagImageView == true) ? \'block\' : \'none\'">\r\n            <p-toolbar class="headerMergeTrees">\r\n                <div class="ui-g">\r\n                    <div class="ui-g-2">\r\n                        <button type="button" pButton (click)="btnImageViewBack()" icon="fas fa-angle-left" label="Назад к таблице НПА"></button>\r\n                    </div>\r\n                    <div class="ui-g-6" style="font-size: 1.2em;font-weight:bold;text-align: center">\r\n                        НПА № {{doc.num}} от {{doc.dt | date:\'dd.MM.yyyy\'}} , ред. от {{revis.dtRev | date:\'dd.MM.yyyy\'}}\r\n                    </div>\r\n                    <div class="ui-g-4">\r\n                        <span style="font-size: 14px;margin-left: 25px">\r\n                            <button type="button" pButton (click)="btnDownloadRev()" icon="fa-download" pTooltip="Скачать" tooltipPosition="top"></button>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </p-toolbar>\r\n            <br>\r\n            <br>\r\n            <textarea pInputTextarea style="opacity: 0;" rows="1" autoResize="true" disabled="true"></textarea>\r\n            <imgview-app [htmlText]="htmlText"></imgview-app>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template ngSwitchCase="structRev">\r\n        <div [style.display]="(flagStructRev == true) ? \'block\' : \'none\'">\r\n                <p-toolbar class="headerMergeTrees">\r\n                <div class="ui-g">\r\n                    <div class="ui-g-4">\r\n                        <button type="button" pButton (click)="btnStructRevBack()" icon="fas fa-angle-left" label="Назад к таблице НПА"></button>\r\n                    </div>\r\n                    <div class="ui-g-4" style="font-size: 1.2em;font-weight:bold;text-align: center">\r\n                        <span [style.display]="modelFormRevision.idRev == null ? \'inline\' : \'none\'">№{{selectedDocList == null ? "" : selectedDocList.num}} от {{selectedDocList == null ? "" : selectedDocList.dt | date: \'dd.MM.yyyy\'}} (без редакции)</span>\r\n                        <span [style.display]="modelFormRevision.idRev == null ? \'none\' : \'inline\'">№{{selectedDocList == null ? "" : selectedDocList.num}} от {{selectedDocList == null ? "" : selectedDocList.dt | date: \'dd.MM.yyyy\'}} (в ред. от {{modelFormRevision == null ? "" : modelFormRevision.dtRev | date: \'dd.MM.yyyy\'}})</span>\r\n                    </div>\r\n                    <div class="ui-g-4"></div>\r\n                </div>\r\n            </p-toolbar>\r\n            <br>\r\n            <br>\r\n            <textarea pInputTextarea style="opacity: 0;" rows="1" autoResize="true" disabled="true"></textarea>\r\n            <br>\r\n            <button type="button" (click)="btnFullViewing()" pButton icon="fa-search" label="Просмотр и редактирование" [disabled]="disFullViewing"></button>\r\n            <br>\r\n            <br>\r\n            <div>\r\n                <p-treeTable [value]="modelTree" [style]="{\'width\':\'100%\'}" selectionMode="single"\r\n                             [(selection)]="selectedTree" (onNodeSelect)="onNodeTreeSelect($event)">\r\n                    <p-column field="label" header="Структурная единица" [style]="{\'width\':\'43%\'}"></p-column>\r\n                    <p-column field="type" header="Тип структурной единицы" [style]="{\'width\':\'20%\',\'text-align\':\'center\'}"></p-column>\r\n                    <p-column field="dtBegin" header="Дата ввода в действие" [style]="{\'width\':\'18%\',\'text-align\':\'center\'}">\r\n                        <ng-template let-node="rowData" pTemplate="body">\r\n                            <span>{{node.data.dtBegin | date: \'dd.MM.yyyy\'}}</span>\r\n                        </ng-template>\r\n                    </p-column>\r\n                    <p-column field="dtEnd" header="Дата окончания действия" [style]="{\'width\':\'18%\',\'text-align\':\'center\'}">\r\n                        <ng-template let-node="rowData" pTemplate="body">\r\n                            <span>{{node.data.dtEnd | date: \'dd.MM.yyyy\'}}</span>\r\n                        </ng-template>\r\n                    </p-column>\r\n                </p-treeTable>\r\n            </div>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template ngSwitchCase="dloadText">\r\n        <div [style.display]="(flagDloadText == true) ? \'block\' : \'none\'">\r\n            <p-toolbar class="headerMergeTrees">\r\n                <div class="ui-g">\r\n                    <div class="ui-g-4">\r\n                        <button type="button" pButton (click)="btnDloadTextBack()" icon="fas fa-angle-left" label="Назад к таблице НПА"></button>\r\n                        <button type="button" pButton icon="fa-file" (click)="btnSaveLoadFile()" label="Сохранить" class="ui-button-danger"></button>\r\n                    </div>\r\n                    <div class="ui-g-4" style="font-size: 1.2em;font-weight:bold;text-align: center">\r\n                        <span>Файл: {{fileName}}</span>\r\n                    </div>\r\n                    <div class="ui-g-4"></div>\r\n                </div>\r\n            </p-toolbar>\r\n            <br>\r\n            <br>\r\n            <textarea pInputTextarea style="opacity: 0;" rows="1" autoResize="true" disabled="true"></textarea>\r\n            <dload-app [modelTreeFile]="modelTreeFile"></dload-app>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template ngSwitchCase="fullver">\r\n        <div class="ui-g">\r\n        <div class="ui-g-12">\r\n            <button type="button" pButton (click)="btnBackFullVer()" icon="fas fa-angle-left" label="Назад к структуре"></button>\r\n        </div>\r\n    </div>\r\n    <form #StrForm="ngForm" class="ng-pristine ng-untouched ng-valid" (ngSubmit)="strSubmit()">\r\n        <p-dataTable [value]="tabRevfull" [editable]="true" [style]="{\'margin-right\':\'175px\'}">\r\n            <p-footer>\r\n                <div class="ui-g">\r\n                    <div class="ui-g-10"></div>\r\n                    <div class="ui-g-2">\r\n                        <button type="submit" pButton icon="fa-file" label="Сохранить" class="ui-button-success"></button>\r\n                    </div>\r\n                </div>\r\n            </p-footer>\r\n            <p-column field="label" header="Структурная единица" [style]="{\'width\':\'43%\'}">\r\n                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                    <div style="overflow:scroll; height:200px;">{{row[col.field]}}</div>\r\n                </ng-template>\r\n            </p-column>\r\n            <p-column field="type" header="Тип структурной единицы" [style]="{\'width\':\'20%\',\'vertical-align\':\'top\',\'text-align\':\'center\'}">\r\n                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                    <p-dropdown #eltype [options]="elemTypes" name="types" [(ngModel)]="selectedElemType.value" [disabled]="elemDisabled" [style]="{\'width\':\'100%\',\'text-align\':\'center\'}" inputId="selectedElemType.value" editable="true" (onChange)="onChangeElemType()">\r\n                    </p-dropdown>\r\n                    <p>\r\n                        <button type="button" pButton (click)="btnAddElem()" icon="fa-file-o" label="Добавить" [disabled]="disAddElemType" class="ui-button-success"></button>\r\n                    </p>\r\n                </ng-template>\r\n            </p-column>\r\n            <p-column field="dtBegin" header="Дата ввода в действие" [editable]="true" [style]="{\'width\':\'18%\',\'overflow\':\'visible\',\'vertical-align\':\'top\',\'text-align\':\'center\'}">\r\n                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                    <span>{{row[col.field] | date: \'dd.MM.yyyy\'}}</span>\r\n                </ng-template>\r\n                <ng-template let-col let-row="rowData" pTemplate="editor">\r\n                    <p-calendar name="dtBegin" [(ngModel)]="row[col.field]" dateFormat="dd.mm.yy" [monthNavigator]="true" [yearNavigator]="true" yearRange="1950:2050" [locale]="rus" styleClass="calendarOverFlow"></p-calendar>\r\n                </ng-template>\r\n            </p-column>\r\n            <p-column field="dtEnd" header="Дата окончания действия" [editable]="true" [style]="{\'width\':\'18%\',\'overflow\':\'visible\',\'vertical-align\':\'top\',\'text-align\':\'center\'}">\r\n                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                    <span>{{row[col.field] | date: \'dd.MM.yyyy\'}}</span>\r\n                </ng-template>\r\n                <ng-template let-col let-row="rowData" pTemplate="editor">\r\n                    <p-calendar name="dtEnd" [(ngModel)]="row[col.field]" dateFormat="dd.mm.yy" [monthNavigator]="true" [yearNavigator]="true" yearRange="1950:2050" [locale]="rus" styleClass="calendarOverFlow"></p-calendar>\r\n                </ng-template>\r\n            </p-column>\r\n        </p-dataTable>\r\n    </form>\r\n    </ng-template>\r\n</span>'},400:function(e,t){e.exports='<div [innerHTML]="strHtml"></div>\r\n'},401:function(e,t){e.exports='<div *ngIf="isProblem; else elseProblem">\r\n    <div class="ui-g">\r\n        <div class="ui-g-4"></div>\r\n        <div class="ui-g-4">\r\n           <span style="text-align: center; font-size: 1.2em; font-weight: bold">\r\n               Данный режим находится в стадии разработки!\r\n           </span>\r\n        </div>\r\n        <div class="ui-g-4"></div>\r\n    </div>\r\n\r\n</div>\r\n<ng-template #elseProblem>\r\n    <div class="ui-g">\r\n        <div class="ui-g-12">\r\n            <div *ngIf="isProgressBar">\r\n                <div></div>\r\n                <p-progressBar mode="indeterminate" [style]="{\'height\': \'6px\',\'weidth\':\'100%\'}"></p-progressBar>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="ui-g">\r\n        <div class="ui-g-5">\r\n            <p-toolbar>\r\n                <div class="ui-toolbar-group-left">\r\n                    <input #gb type="text" pInputText size="45" placeholder="Фильтр по №, наименованию и типу НПА">\r\n                </div>\r\n                <div class="ui-toolbar-group-right">\r\n                    <p-fileUpload #fileload url=""\r\n                                  chooseLabel="Загрузить архив"\r\n                                  name="uploadedFileRef"\r\n                                  mode="basic" auto="true"\r\n                                  (onBeforeSend)="onBeforeSendUploadFile($event)"\r\n                                  (onUpload)="onUploadFile($event)"\r\n                                  (onSelect)="onSelectUploadFile($event)"\r\n                                  accept=".zip">\r\n                    </p-fileUpload>\r\n                </div>\r\n            </p-toolbar>\r\n        </div>\r\n        <div class="ui-g-2">\r\n            <p-toolbar>\r\n                <div class="ui-toolbar-group-left">\r\n                    <span style="font-weight: bold; text-align: center;">Список загруженных документов НПА</span>\r\n                </div>\r\n            </p-toolbar>\r\n        </div>\r\n        <div class="ui-g-5"></div>\r\n    </div>\r\n    <p-dataTable [value]="stateDownloadNpa"\r\n                 [scrollable]="true"\r\n                 scrollHeight="520px"\r\n                 dataKey="num"\r\n                 [globalFilter]="gb"\r\n                 emptyMessage="">\r\n        <p-column field="type.name" header="Тип док-та" [style]="{\'width\':\'10%\',\'text-align\':\'center\'}"></p-column>\r\n        <p-column field="number" header="Номер" [style]="{\'width\':\'10%\',\'text-align\':\'center\'}"></p-column>\r\n        <p-column field="date" header="Дата" [excludeGlobalFilter]="true" [style]="{\'width\':\'10%\',\'text-align\':\'center\'}">\r\n            <ng-template pTemplate="body" let-col let-row="rowData">\r\n                {{row[col.field] | date: \'dd.MM.yyyy\'}}\r\n            </ng-template>\r\n        </p-column>\r\n        <p-column field="name" header="Наименование"></p-column>\r\n        <p-column field="status" header="Статус" [style]="{\'width\':\'10%\'}"></p-column>\r\n    </p-dataTable>\r\n\r\n    <div>\r\n        <p-growl [(value)]="msgs" [sticky]="true"></p-growl>\r\n    </div>\r\n</ng-template>\r\n'},402:function(e,t){e.exports='<span *ngIf="isComponent == true">\r\n    <div class="ui-g">\r\n        <div class="ui-g-12">\r\n            <button type="button" pButton (click)="btnBack()" icon="fas fa-angle-left" label="Назад к структуре"></button>\r\n        </div>\r\n    </div>\r\n    <form #StrForm="ngForm" class="ng-pristine ng-untouched ng-valid" (ngSubmit)="strSubmit()">\r\n        <p-dataTable [value]="tabRevfull" [editable]="true" [style]="{\'margin-right\':\'175px\'}">\r\n            <p-footer>\r\n                <div class="ui-g">\r\n                    <div class="ui-g-10"></div>\r\n                    <div class="ui-g-2">\r\n                        <button type="submit" pButton icon="fa-file" label="Сохранить"></button>\r\n                    </div>\r\n                </div>\r\n            </p-footer>\r\n            <p-column field="label" header="Структурная единица" [style]="{\'width\':\'43%\'}">\r\n                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                    <div style="overflow:scroll; height:200px;">{{row[col.field]}}</div>\r\n                </ng-template>\r\n            </p-column>\r\n            <p-column field="type" header="Тип структурной единицы" [style]="{\'width\':\'20%\',\'vertical-align\':\'top\',\'text-align\':\'center\'}">\r\n                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                    <p-dropdown #eltype [options]="elemTypes" name="types" [(ngModel)]="selectedElemType.value" [disabled]="elemDisabled" [style]="{\'width\':\'100%\',\'text-align\':\'center\'}" inputId="selectedElemType.value" editable="true" (onChange)="onChangeElemType($event)">\r\n                    </p-dropdown>\r\n                    <p>\r\n                        <button type="button" pButton (click)="btnAddElem()" icon="fa-file-o" label="Добавить" [disabled]="disAddElemType"></button>\r\n                    </p>\r\n                </ng-template>\r\n            </p-column>\r\n            <p-column field="dtBegin" header="Дата ввода в действие" [editable]="true" [style]="{\'width\':\'18%\',\'overflow\':\'visible\',\'vertical-align\':\'top\',\'text-align\':\'center\'}">\r\n                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                    <span>{{row[col.field] | date: \'dd.MM.yyyy\'}}</span>\r\n                </ng-template>\r\n                <ng-template let-col let-row="rowData" pTemplate="editor">\r\n                    <p-calendar name="dtBegin" [(ngModel)]="row[col.field]" dateFormat="dd.mm.yy" [monthNavigator]="true" [yearNavigator]="true" yearRange="1950:2050" [locale]="rus" styleClass="calendarOverFlow"></p-calendar>\r\n                </ng-template>\r\n            </p-column>\r\n            <p-column field="dtEnd" header="Дата окончания действия" [editable]="true" [style]="{\'width\':\'18%\',\'overflow\':\'visible\',\'vertical-align\':\'top\',\'text-align\':\'center\'}">\r\n                <ng-template let-col let-row="rowData" pTemplate="body">\r\n                    <span>{{row[col.field] | date: \'dd.MM.yyyy\'}}</span>\r\n                </ng-template>\r\n                <ng-template let-col let-row="rowData" pTemplate="editor">\r\n                    <p-calendar name="dtEnd" [(ngModel)]="row[col.field]" dateFormat="dd.mm.yy" [monthNavigator]="true" [yearNavigator]="true" yearRange="1950:2050" [locale]="rus" styleClass="calendarOverFlow"></p-calendar>\r\n                </ng-template>\r\n            </p-column>\r\n        </p-dataTable>\r\n    </form>\r\n</span>\r\n'},403:function(e,t){e.exports='<div [innerHtml]="htmlText"></div>\r\n'},404:function(e,t){e.exports='<div class="ui-g">\r\n    <div class="ui-g-6">\r\n        <p-tree [value]="mergedTree.children" [style]="{\'width\':\'100%\'}">\r\n            <ng-template let-node pTemplate="default">\r\n                <span *ngIf="node != null">\r\n                    <span *ngIf="node.diffs == null; else elseBlockDiffs">\r\n                        <span *ngIf="node.nodeLeft != null; else elseBlock">\r\n                            <span *ngIf="node.nodeLeft.data != null; else elseBlockTree">\r\n                                <span *ngIf="node.nodeLeft.data.name != null">\r\n                                    <span *ngIf="node.nodeRight != null; else elseBlockRight1">\r\n                                        <span *ngIf="node.nodeRight.data != null; else elseBlockRight2">\r\n                                            <span *ngIf="node.nodeRight.data.name != null">\r\n                                                <span *ngIf="node.nodeRight.data.name == node.nodeLeft.data.name">\r\n                                                    <span data-tooltip="sw" title="{{node.nodeLeft.data.name}}">{{node.nodeLeft.data.name}}</span>\r\n                                                </span>\r\n                                            </span>\r\n                                        </span>\r\n                                        <ng-template #elseBlockRight2>\r\n                                            <span class="brownNode" data-tooltip="sw" title="{{node.nodeLeft.data.name}}">{{node.nodeLeft.data.name}}</span>\r\n                                        </ng-template>\r\n                                    </span>\r\n                                    <ng-template #elseBlockRight1>\r\n                                        <span class="brownNode" data-tooltip="sw" title="{{node.nodeLeft.data.name}}">{{node.nodeLeft.data.name}}</span>\r\n                                    </ng-template>\r\n                                </span>\r\n                            </span>\r\n                            <ng-template #elseBlockTree>\r\n                                <input type="text" disabled="true" style="background-color: grey;width:820px;height:20px">\r\n                            </ng-template>\r\n                        </span>\r\n                        <ng-template #elseBlock>\r\n                            <input type="text" disabled="true" style="background-color: grey;width:820px;height:20px">\r\n                        </ng-template>\r\n                    </span>\r\n                    <ng-template #elseBlockDiffs>\r\n                        <div [innerHtml]="node.htmlLeft" data-tooltip="sw" title="{{node.nodeLeft.data.name}}"></div>\r\n                    </ng-template>\r\n                </span>\r\n            </ng-template>\r\n        </p-tree>\r\n    </div>\r\n    <div class="ui-g-6">\r\n        <p-tree [value]="mergedTree.children" [style]="{\'width\':\'100%\'}">\r\n            <ng-template let-node pTemplate="default">\r\n                <span *ngIf="node != null">\r\n                    <span *ngIf="node.diffs == null; else elseBlockDiffs">\r\n                        <span *ngIf="node.nodeRight != null; else elseBlock">\r\n                            <span *ngIf="node.nodeRight.data != null; else elseBlockTree">\r\n                                <span *ngIf="node.nodeRight.data.name != null">\r\n                                    <span *ngIf="node.nodeLeft != null; else elseBlockRight1">\r\n                                        <span *ngIf="node.nodeLeft.data != null; else elseBlockRight2">\r\n                                            <span *ngIf="node.nodeLeft.data.name != null">\r\n                                                <span *ngIf="node.nodeRight.data.name == node.nodeLeft.data.name">\r\n                                                    <span data-tooltip="sw" title="{{node.nodeRight.data.name}}">{{node.nodeRight.data.name}}</span>\r\n                                                </span>\r\n                                            </span>\r\n                                        </span>\r\n                                        <ng-template #elseBlockRight2>\r\n                                            <span class="brownNode" data-tooltip="sw" title="{{node.nodeRight.data.name}}">{{node.nodeRight.data.name}}</span>\r\n                                        </ng-template>\r\n                                    </span>\r\n                                    <ng-template #elseBlockRight1>\r\n                                        <span class="brownNode" data-tooltip="sw" title="{{node.nodeRight.data.name}}">{{node.nodeRight.data.name}}</span>\r\n                                    </ng-template>\r\n                                </span>\r\n                            </span>\r\n                            <ng-template #elseBlockTree>\r\n                                <input type="text" disabled="true" style="background-color: grey;width:820px;height:20px">\r\n                            </ng-template>\r\n                        </span>\r\n                        <ng-template #elseBlock>\r\n                            <input type="text" disabled="true" style="background-color: grey;width:820px;height:20px">\r\n                        </ng-template>\r\n                    </span>\r\n                    <ng-template #elseBlockDiffs>\r\n                        <div [innerHtml]="node.htmlRight" data-tooltip="sw" title="{{node.nodeRight.data.name}}"></div>\r\n                    </ng-template>\r\n                </span>\r\n            </ng-template>\r\n        </p-tree>\r\n    </div>\r\n</div>\r\n'},405:function(e,t){e.exports="\r\n    <p-treeTable [value]=\"modelTreeFile.tree.children\" scrollWidth=\"600px\" [style]=\"{'width':'100%','max-height':'250px','margin-top':'50px'}\" (onNodeSelect)=\"onNodeTreeSelect($event)\">\r\n        <p-column field=\"name\" header=\"Структурная единица\" [style]=\"{'width':'55%'}\"></p-column>\r\n        <p-column field=\"type\" header=\"Тип структурной единицы\" [style]=\"{'width':'35%','text-align':'center'}\"></p-column>\r\n        <p-column field=\"num\" header=\"Номер\" [style]=\"{'width':'10%','text-align':'center'}\"></p-column>\r\n    </p-treeTable>"},406:function(e,t,n){e.exports='<span [ngSwitch]="switchboard">\r\n    <ng-template ngSwitchCase="main">\r\n        <br>\r\n        <button type="button" (click)="btnFullViewing()" pButton icon="fa-search" label="Просмотр и редактирование" [disabled]="disFullViewing"></button>\r\n        <br>\r\n        <br>\r\n        <div>\r\n            <p-treeTable [value]="modelTree" [style]="{\'width\':\'100%\'}" selectionMode="single"\r\n                         [(selection)]="selectedTree" (onNodeSelect)="onNodeTreeSelect($event)"\r\n                         scrollable="false" scrollHeight="320%">\r\n            <p-column field="label" header="Структурная единица" [style]="{\'width\':\'43%\'}"></p-column>\r\n            <p-column field="type" header="Тип структурной единицы" [style]="{\'width\':\'20%\',\'text-align\':\'center\'}"></p-column>\r\n            <p-column field="dtBegin" header="Дата ввода в действие" [style]="{\'width\':\'18%\',\'text-align\':\'center\'}">\r\n                <ng-template let-node="rowData" pTemplate="body">\r\n                    <span>{{node.data.dtBegin | date: \'dd.MM.yyyy\'}}</span>\r\n                </ng-template>\r\n            </p-column>\r\n            <p-column field="dtEnd" header="Дата окончания действия" [style]="{\'width\':\'18%\',\'text-align\':\'center\'}">\r\n                <ng-template let-node="rowData" pTemplate="body">\r\n                    <span>{{node.data.dtEnd | date: \'dd.MM.yyyy\'}}</span>\r\n                </ng-template>\r\n            </p-column>\r\n            </p-treeTable>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template ngSwitchCase="fullver">\r\n        <fullelem-app [selectedDocList]="selectedDocList" [modelFormRevision]="modelFormRevision" [selectedTree]="selectedTree" [get]="get" [elemTypes]="elemTypes"></fullelem-app>\r\n    </ng-template>\r\n</span>\r\n\r\n\x3c!-- Диалоговое окно полосы загрузки --\x3e\r\n<div>\r\n    <p-dialog [(visible)]="displayLoading" [style]="{\'border\':\'2px solid #0242FF\'}">\r\n        <p-header>\r\n            Пожалуйста, подождите...\r\n        </p-header>\r\n        <div class="imageContainer glass">\r\n            <img src="'+n(176)+'" width="350" height="40" border="0" />\r\n        </div>\r\n    </p-dialog>\r\n</div>'},407:function(e,t){e.exports='<div class="ui-g">\r\n    <div class="ui-g-12">\r\n        <div *ngIf="isProgressBar">\r\n            <div></div>\r\n            <p-progressBar mode="indeterminate" [style]="{\'height\': \'6px\',\'weidth\':\'100%\'}"></p-progressBar>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="ui-g">\r\n    <div class="ui-g-5">\r\n        <input #gb type="text" pInputText size="45" placeholder="Фильтр по №, наименованию и типу НПА">\r\n        <button type="button" pButton (click)="btnCreateFiles()" label="Выгрузить документы" [disabled]="disCreateFile"></button>\r\n    </div>\r\n    <div class="ui-g-2">\r\n        <span style="font-weight: bold; text-align: center;">Документы НПА</span>\r\n    </div>\r\n    <div class="ui-g-5"></div>\r\n</div>\r\n<br>\r\n<div style="font-weight: bold">\r\n    Выбранные документы: <span>{{selectDocs}}</span>\r\n</div>\r\n<p-dataTable [value]="documents"\r\n             selectionMode="multiple"\r\n             [(selection)]="selectedDocs"\r\n             [scrollable]="true"\r\n             scrollHeight="520px"\r\n             [metaKeySelection]="false"\r\n             (onRowSelect)="onRowSelect()"\r\n             (onRowUnselect)="onRowUnselect()"\r\n             dataKey="num"\r\n             [globalFilter]="gb"\r\n             emptyMessage="">\r\n    <p-column field="docType.name" header="Тип док-та" [style]="{\'width\':\'10%\',\'text-align\':\'center\'}"></p-column>\r\n    <p-column field="num" header="Номер" [style]="{\'width\':\'10%\',\'text-align\':\'center\'}"></p-column>\r\n    <p-column field="dt" header="Дата" [excludeGlobalFilter]="true" [style]="{\'width\':\'10%\',\'text-align\':\'center\'}">\r\n        <ng-template pTemplate="body" let-col let-row="rowData">\r\n            {{row[col.field] | date: \'dd.MM.yyyy\'}}\r\n        </ng-template>\r\n    </p-column>\r\n    <p-column field="name" header="Наименование"></p-column>\r\n</p-dataTable>\r\n'},43:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(24),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=function(){function Head(){}return Head.prototype.createCsrfHeader=function(){var e=new o.b;return e=this.createCsrfHeadersToken(e)},Head.prototype.createCsrfHeadersToken=function(e){var t=this.createToken();if(!t)return e;var n=this.createHeader();return n?(e.append(n,t),e.append("Content-Type","application/json"),e):e},Head.prototype.createToken=function(){var e=document.querySelector('meta[name="_csrf"]');return e&&e.getAttribute("content")},Head.prototype.createHeader=function(){var e=document.querySelector('meta[name="_csrf_header"]');return e&&e.getAttribute("content")},Head=i([n.i(r.Injectable)()],Head)}()},46:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),o=n(0),i=n(52),s=(n.n(i),this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}),a=function(){function DateConvertService(){this.dp=new r.DatePipe("ru-RU")}return DateConvertService.prototype.InUniversalDate=function(e){return n.i(i.isUndefined)(e)||null==e?null:e=new Date(e.toString())},DateConvertService.prototype.InRussianDate=function(e){return n.i(i.isUndefined)(e)||null==e?null:this.dp.transform(e,"dd.MM.yyyy")},DateConvertService.prototype.InDBDate=function(e){return n.i(i.isUndefined)(e)||null==e?null:this.dp.transform(e,"yyyy-MM-dd")},DateConvertService.prototype.dateParseTree=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];r.data.dtBegin=this.InUniversalDate(r.data.dtBegin),r.data.dtEnd=this.InUniversalDate(r.data.dtEnd),0!=r.children.length&&this.dateParseTree(r.children)}return e},DateConvertService=s([n.i(o.Injectable)()],DateConvertService)}()},54:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(24),i=n(43),s=n(37),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},c=function(){function Dictionary(e,t,n){this.http=e,this.head=t,this.req=n,this.fzDocTypes="/directory/fzDocTypes",this.fzElemTypes="/directory/fzElemTypes",this.fzUpdateElem="/directory/fzUpdateElem",this.baseUrl=this.req.baseUrl}return Dictionary.prototype.getDocTypes=function(){return this.http.get(this.baseUrl+this.fzDocTypes,{headers:this.head.createCsrfHeader()})},Dictionary.prototype.getElemTypes=function(){return this.http.get(this.baseUrl+this.fzElemTypes)},Dictionary.prototype.postElemType=function(e){return this.http.post(this.baseUrl+this.fzUpdateElem,e,{headers:this.head.createCsrfHeader()})},Dictionary=a([n.i(r.Injectable)(),d(0,n.i(r.Inject)(o.c)),d(1,n.i(r.Inject)(i.a)),d(2,n.i(r.Inject)(s.a)),l("design:paramtypes",[o.c,i.a,s.a])],Dictionary)}()},55:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(24),i=n(52),s=(n.n(i),n(43)),a=n(37),l=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},p=function(){function TreesRequests(e,t,n){this.http=e,this.head=t,this.req=n,this.baseUrl=this.req.baseUrl}return TreesRequests.prototype.getDataTree=function(e,t){var n=this.checkForNull(e),r=this.checkForNull(t);return this.http.get(this.baseUrl+"/directory/fzDocumentStructureTree"+n+r,{headers:this.head.createCsrfHeader()})},TreesRequests.prototype.getDocStrText=function(e,t,n){var r=this.checkForNull(e),o=this.checkForNull(n),i=this.checkForNull(t);return"/0"==o?this.http.get(this.baseUrl+"/directory/fzDocStrText"+r+i,{headers:this.head.createCsrfHeader()}):this.http.get(this.baseUrl+"/directory/fzDocStrText"+r+i+o,{headers:this.head.createCsrfHeader()})},TreesRequests.prototype.postDocStrDates=function(e,t,n,r){var o=this.checkForNull(t),i=this.checkForNull(r),s=this.checkForNull(n),a=JSON.stringify(e);return this.http.post(this.baseUrl+"/directory/fzDocStrDates"+o+s+i,a,{headers:this.head.createCsrfHeader()})},TreesRequests.prototype.getDocConvert=function(e,t){var n=this.checkForNull(e),r=this.checkForNull(t);return this.http.get(this.baseUrl+"/directory/fzSaveUploadFile"+n+r,{headers:this.head.createCsrfHeader()})},TreesRequests.prototype.formattedURL=function(){return this.baseUrl+"/npaparse/uploadfile"},TreesRequests.prototype.createHeader=function(e){var t={key:"",value:""};return n.i(i.isUndefined)(e)&&null!=!e||(t.key=e.keys(),t.value=e.values()),t},TreesRequests.prototype.checkForNull=function(e){return e=null==e?"/0":"/"+e},TreesRequests=l([n.i(r.Injectable)(),c(0,n.i(r.Inject)(o.c)),c(1,n.i(r.Inject)(s.a)),c(2,n.i(r.Inject)(a.a)),d("design:paramtypes",[o.c,s.a,a.a])],TreesRequests)}()},85:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function Doc(){}return Doc.findDoc=function(e,t){return e.find(function(e){return e.id==t})},Doc.sortDocIndex=function(e,t){var n=e.indexOf(t),r=e[0];e[0]=e[n],e[n]=r},Doc}()},86:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function Revision(){}return Revision}()},87:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(86),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function __(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}}(),i=function(e){function ModelFormRevision(){return null!==e&&e.apply(this,arguments)||this}return o(ModelFormRevision,e),ModelFormRevision.prototype.initField=function(e,t,n,r,o,i){this.idRev=e,this.dtBegin=t,this.dtRev=n,this.dtEnd=r,this.id_NPA_Revision=o,this.original=i},ModelFormRevision.prototype.getField=function(e){this.idRev=e.idRev,this.dtBegin=e.dtBegin,this.dtRev=e.dtRev,this.dtEnd=e.dtEnd,this.loaded=e.loaded,this.idDoc=e.idDoc,this.id_NPA_Revision=e.id_NPA_Revision,this.original=e.original},ModelFormRevision}(r.a)},88:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(24),i=n(43),s=n(37),a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},c=function(){function DocumentNPARequests(e,t,n){this.http=e,this.head=t,this.req=n,this.baseUrl=this.req.baseUrl,this.fzAddNPA="/directory/fzAddNPA"}return DocumentNPARequests.prototype.getDataAddNPA=function(e){var t=JSON.stringify(e);return this.http.post(this.baseUrl+this.fzAddNPA,t,{headers:this.head.createCsrfHeader()})},DocumentNPARequests.prototype.putAddNPA=function(e,t){var n=JSON.stringify(e);return this.http.put(this.baseUrl+this.fzAddNPA+"/"+t,n,{headers:this.head.createCsrfHeader()})},DocumentNPARequests.prototype.deleteAddNPA=function(e){return this.http.delete(this.baseUrl+this.fzAddNPA+"/"+e,{headers:this.head.createCsrfHeader()})},DocumentNPARequests.prototype.getCheckIsDeletedDoc=function(e){return this.http.get(this.baseUrl+"/directory/fzCheckIsDeletedDoc/"+e,{headers:this.head.createCsrfHeader()})},DocumentNPARequests.prototype.getDataFindList=function(){return this.http.get(this.baseUrl+"/directory/fzFindList")},DocumentNPARequests.prototype.getDocumentDownload=function(e,t){var n=new o.d;n.append("docId",e.toString()),null!=t&&n.append("revId",t.toString());var r=new o.e({responseType:o.f.ArrayBuffer,params:n});return this.http.get(this.baseUrl+"/directory/fzDownloadNPA",r)},DocumentNPARequests.prototype.getDownloadManual=function(){var e=new o.e({responseType:o.f.ArrayBuffer});return this.http.get(this.baseUrl+"/directory/fzDownloadManual",e)},DocumentNPARequests=a([n.i(r.Injectable)(),d(0,n.i(r.Inject)(o.c)),d(1,n.i(r.Inject)(i.a)),d(2,n.i(r.Inject)(s.a)),l("design:paramtypes",[o.c,i.a,s.a])],DocumentNPARequests)}()},89:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=function(){function CalendarService(){this.ru={firstDayOfWeek:1,dayNames:["воскресение","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вс","пн","вт","ср","чт","пят","сб"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пят","Сб"],monthNames:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],monthNamesShort:["янв","фев","мар","апр","май","июнь","июль","авг","сен","окт","ноя","дек"]}}return CalendarService.prototype.settings=function(){var e=new Date,t=e.getMonth(),n=e.getFullYear(),r=0===t?11:t-1,o=11===r?n-1:n,i=11===t?0:t+1,s=0===i?n+1:n;this.minDate=new Date,this.minDate.setMonth(r),this.minDate.setFullYear(o),this.maxDate=new Date,this.maxDate.setMonth(i),this.maxDate.setFullYear(s)},CalendarService.prototype.getRuLocale=function(){return this.ru},CalendarService=o([n.i(r.Injectable)()],CalendarService)}()},90:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(54),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},l=function(){function DictinaryElementType(e){this.dict=e}return DictinaryElementType.getDict=function(e){var t=[],n=e.json();t.push({label:"",value:""});for(var r=0,o=n;r<o.length;r++){var i=o[r];t.push({label:""+i.name,value:""+i.name})}return t},DictinaryElementType=i([a(0,n.i(r.Inject)(o.a)),s("design:paramtypes",[o.a])],DictinaryElementType)}()},91:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=function(){function GrowlService(){}return GrowlService.prototype.showError=function(e){return{severity:"error",summary:"Ошибка",detail:e}},GrowlService.prototype.showSuccess=function(e){return{severity:"success",summary:"Внимание",detail:e}},GrowlService=o([n.i(r.Injectable)()],GrowlService)}()}},[238]);